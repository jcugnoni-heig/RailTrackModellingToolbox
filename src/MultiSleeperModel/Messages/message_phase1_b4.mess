# ------------------------------------------------------------------------------------------
# Impression du contenu du fichier de commandes à exécuter :
# ------------------------------------------------------------------------------------------
######################################################
# CRAIG-BAMPTON MODELISATION with coupling modes : Phase 2 / Run simulation
######################################################
DEBUT(PAR_LOT='NON')


from Utilitai import partition
from Utilitai.Table import Table
from math import pi
import time
import numpy as np
import os
import json


with open('fort.2', 'r') as f:
    txt = f.read()
f.close()

parameters = json.loads(txt)
maxFreq = parameters['phase1FreqMax']
includeUSP = parameters['USPON']
freq1 = parameters['phase1Freqs'][0]
freq2 = parameters['phase1Freqs'][-1]
nuPadMat1 = parameters['nuMat1']
nuPadMat2 = parameters['nuMat2']
coefSlpBotArea = parameters['balAreaCoef']
nuBal = parameters['nuBal']
hBal = parameters['hBal']
nModesRails = parameters['phase1RailModes']
nModesSleeper = parameters['phase1SlpModes']
slpForce = 3

if includeUSP == True:
    nuUSP = parameters['nuUSP']

######################################################
# Define functions
######################################################


def GetAlphaBeta(freqList, dampingList):
# Computes optimized Rayleigh's coefs alpha & beta ( eta=1/2*(alpha*w+beta/w) )
# freqList in Hz ; both lists = np.array()
    print(freqList)
    print(dampingList)
    if len(freqList) == 1: # only 1 freq: set beta to 0 and alpha s.t. damping is exact
        return [dampingList[0]/(pi*freqList[0]), 0] 
    elif len(freqList) == 2: # only 2 freqs: return alpha, beta s.t. damping is exact at both freqs
        f0 = freqList[0]
        f1 = freqList[1]
        eta0 = dampingList[0]
        eta1 = dampingList[1]
        alpha = eta0/(pi*f0)*(1 - f1/eta0 * (eta0*f1-eta1*f0)/(f1**2-f0**2))
        beta = 4*pi*f0*f1 * (eta0*f1-eta1*f0)/(f1**2-f0**2)
        return [alpha, beta]

    # more than 2 freqs: use least squares method to optimize damping
    A = np.trapz(dampingList*2*pi*freqList, 2*pi*freqList)
    B = np.trapz(dampingList/(2*pi*freqList), 2*pi*freqList)
    vect = np.array([[A], [B]])
    w1 = 2*pi*freqList[0]
    w2 = 2*pi*freqList[-1]
    M = 12/((w2**3-w1**3)*(1/w1-1/w2) - 3*(w2-w1)**2) * np.array([[1/2*(1/w1-1/w2), -1/2*(w2-w1)], [-1/2*(w2-w1), 1/6*(w2**3-w1**3)]])
    alphaBeta = np.dot(M, vect)
    alpha = float(alphaBeta[0])
    beta = float(alphaBeta[1])
    return [alpha, beta]

    

######################################################
# Trim eigenmodes and define min number of interface modes to compute
######################################################
t0=time.time()
freqBands1 = list(range(0, int(maxFreq) + 1, min(1000, int(maxFreq))))
if freqBands1[-1] != int(maxFreq):
    freqBands1.append(int(maxFreq))


######################################################
# Get list of frequencies from freq files
######################################################
with open('fort.40') as freqFile:
    freqlines = freqFile.read().splitlines()
freqFile.close()

allFreqs = []
for freqline in freqlines:
    try:
        frequency=float(freqline.split(' ')[0])
    except:
        continue
    allFreqs.append(frequency)


######################################################
# MESHES AND MODEL
######################################################
meshSlp = LIRE_MAILLAGE(FORMAT="MED",UNITE=21);
meshRaiR = LIRE_MAILLAGE(FORMAT="MED",UNITE=25);

meshPadR = LIRE_MAILLAGE(FORMAT="MED",UNITE=23);
offsetPadDroit = 757.54
offsetPadBas = 214.0
rotpadX=-1.43261

meshPadR = MODI_MAILLAGE(reuse=meshPadR,
                       MAILLAGE=meshPadR,
                       ROTATION=_F(
                         ANGLE=rotpadX, 
                         POIN_1=(0.0, 0.0, 0.0), 
                         POIN_2=(1000.0, 0.0, 0.0)))

meshPadR = MODI_MAILLAGE(reuse=meshPadR,
                       MAILLAGE=meshPadR,
                       TRANSLATION=(0.0, offsetPadBas, offsetPadDroit),)


if includeUSP == True:
    USPthk = 8.5
    
    meshUSP = LIRE_MAILLAGE(FORMAT="MED",UNITE=26);
    
    meshUSP = DEFI_GROUP(reuse=meshUSP, MAILLAGE=meshUSP, 
                         CREA_GROUP_MA = _F(TYPE_MAILLE='2D', NOM='USPbot', OPTION='FACE_NORMALE', VECT_NORMALE=(0,-1,0)))

    meshUSP = DEFI_GROUP(reuse=meshUSP, MAILLAGE=meshUSP, 
                         CREA_GROUP_NO = _F(NOM='USPbot', GROUP_MA='USPbot'))
                         
    meshUSP = DEFI_GROUP(reuse=meshUSP, MAILLAGE=meshUSP, 
                         CREA_GROUP_NO = _F(NOM='USPtop', OPTION='PLAN', POINT=(0,USPthk,0), VECT_NORMALE=(0,1,0), PRECISION=1e-3))
    ###                     
    meshUSP = DEFI_GROUP(reuse=meshUSP, MAILLAGE=meshUSP, 
                         CREA_GROUP_NO = _F(NOM='tmp', OPTION='PLAN', POINT=(0,0,0), VECT_NORMALE=(0,0,1), PRECISION=1e-3))

    meshUSP = DEFI_GROUP(reuse=meshUSP, MAILLAGE=meshUSP, 
                         CREA_GROUP_NO = _F(NOM='USPsym', DIFFE=('tmp', 'USPtop')))

    meshUSP = DEFI_GROUP(reuse=meshUSP, MAILLAGE=meshUSP, 
                         DETR_GROUP_NO = _F(NOM='tmp'))
    
    # Translate components above USPs of USP's thickness
    meshSlp = MODI_MAILLAGE(reuse=meshSlp, MAILLAGE=meshSlp, TRANSLATION=(0, USPthk, 0));
    meshPadR = MODI_MAILLAGE(reuse=meshPadR, MAILLAGE=meshPadR, TRANSLATION=(0, USPthk, 0));
    meshRaiR = MODI_MAILLAGE(reuse=meshRaiR, MAILLAGE=meshRaiR, TRANSLATION=(0, USPthk, 0));
    
    tmp2 = ASSE_MAILLAGE(MAILLAGE_1=meshUSP, MAILLAGE_2=meshSlp, OPERATION='SUPERPOSE')
    tmp3 = ASSE_MAILLAGE(MAILLAGE_1=tmp2, MAILLAGE_2=meshPadR, OPERATION='SUPERPOSE')
    mesh0 = ASSE_MAILLAGE(MAILLAGE_1=tmp3, MAILLAGE_2=meshRaiR, OPERATION='SUPERPOSE')
    
    mesh0 = DEFI_GROUP(reuse=mesh0, MAILLAGE=mesh0, 
                       CREA_GROUP_NO = _F(NOM='slpSym2', UNION=('slpSym', 'USPsym')))
    
    discreteBalNodes = 'USPbot'
    slpSym = 'slpSym2'
else:
    tmp2 = ASSE_MAILLAGE(MAILLAGE_1=meshSlp, MAILLAGE_2=meshPadR, OPERATION='SUPERPOSE')
    mesh0 = ASSE_MAILLAGE(MAILLAGE_1=tmp2, MAILLAGE_2=meshRaiR, OPERATION='SUPERPOSE')
    discreteBalNodes = 'slpBot'
    slpSym = 'slpSym'

mesh = CREA_MAILLAGE(CREA_POI1=_F(GROUP_NO=discreteBalNodes, 
                                  NOM_GROUP_MA=discreteBalNodes + '0D'), 
                     MAILLAGE=mesh0) 

model = AFFE_MODELE(MAILLAGE=mesh,
                    AFFE=(_F(TOUT='OUI',
                            PHENOMENE='MECANIQUE',
                            MODELISATION='3D',),
                          _F(GROUP_MA=discreteBalNodes + '0D',
                             PHENOMENE='MECANIQUE',
                             MODELISATION='DIS_T',),));
                          
# Compute area of a half-sleeper bottom face
CH_id = CREA_CHAMP(OPERATION = 'AFFE',
                      TYPE_CHAM ='NOEU_NEUT_R',
                      MAILLAGE = mesh ,
                      AFFE = _F(GROUP_MA=discreteBalNodes, NOM_CMP=('X1'), VALE=1.0,))

intCH_id = POST_ELEM(CHAM_GD=CH_id,
                     INTEGRALE=_F(GROUP_MA=discreteBalNodes,
                                  NOM_CMP=('X1'),
                                  TYPE_MAILLE='2D'),
                     MODELE=model)
                     
A_slpBot = intCH_id['INTE_X1',1]

# Get number of nodes in discreteBalNodes
pyMesh = partition.MAIL_PY()
pyMesh.FromAster('mesh')
nodeGrps = mesh.LIST_GROUP_NO()
for gp in nodeGrps:
    gpName = gp[0]
    if gpName == discreteBalNodes:
        gpNodes = pyMesh.gno.get(gpName)
        nNodesBal = len(gpNodes)
        break
                    
######################################################
# Import materials properties / functions
######################################################
f_EPad1=LIRE_FONCTION(UNITE = 30,
                     NOM_PARA = 'FREQ',
                     PROL_GAUCHE = 'CONSTANT',
                     PROL_DROITE = 'CONSTANT')
                 
f_TDPad1=LIRE_FONCTION(UNITE = 31,
                         NOM_PARA = 'FREQ',
                         PROL_GAUCHE = 'CONSTANT',
                         PROL_DROITE = 'CONSTANT')


f_EPad2=LIRE_FONCTION(UNITE = 32,
                     NOM_PARA = 'FREQ',
                     PROL_GAUCHE = 'CONSTANT',
                     PROL_DROITE = 'CONSTANT')
                 
f_TDPad2=LIRE_FONCTION(UNITE = 33,
                         NOM_PARA = 'FREQ',
                         PROL_GAUCHE = 'CONSTANT',
                         PROL_DROITE = 'CONSTANT')

if includeUSP:
    f_EUSP=LIRE_FONCTION(UNITE = 34,
                         NOM_PARA = 'FREQ',
                         PROL_GAUCHE = 'CONSTANT',
                         PROL_DROITE = 'CONSTANT')
                     
    f_TDUSP=LIRE_FONCTION(UNITE = 35,
                             NOM_PARA = 'FREQ',
                             PROL_GAUCHE = 'CONSTANT',
                             PROL_DROITE = 'CONSTANT')

f_EBal=LIRE_FONCTION(UNITE = 36,
                     NOM_PARA = 'FREQ',
                     PROL_GAUCHE = 'CONSTANT',
                     PROL_DROITE = 'CONSTANT')

f_TDBal=LIRE_FONCTION(UNITE = 37,
                         NOM_PARA = 'FREQ',
                         PROL_GAUCHE = 'CONSTANT',
                         PROL_DROITE = 'CONSTANT')

# Materials frequency-independent hysteretic damping
eta_concrete = 0.016
eta_steel = 0.001

######################################################
# BOUNDARY CONDITIONS AND INTERACTIONS
######################################################

nForce10 = 'nForce10'
force10 = (0, -100000.0, 10000.0)
nForce45 = 'nForce45'
force45 = (0, -173205, -173205)

if includeUSP == True:
    tie1 = AFFE_CHAR_MECA(LIAISON_MAIL=(_F(GROUP_NO_ESCL=('USPtop', ),
                                           GROUP_MA_MAIT=('slpBotV', ),
                                           TYPE_RACCORD='MASSIF')),
                          MODELE=model)
                          
tie2 = AFFE_CHAR_MECA(LIAISON_MAIL=(_F(GROUP_NO_ESCL=('botn', ),
                                       GROUP_MA_MAIT=('slpUpad', ),
                                       TYPE_RACCORD='MASSIF')),
                      MODELE=model)
                      
tie3 = AFFE_CHAR_MECA(LIAISON_MAIL=(_F(GROUP_NO_ESCL=('topn', ),
                                       GROUP_MA_MAIT=('railBotV', ),
                                       TYPE_RACCORD='MASSIF')),
                      MODELE=model)
                                    
BCinterf=AFFE_CHAR_MECA(MODELE=model,
                        DDL_IMPO=_F(GROUP_NO=('railFt', 'railBk', slpSym), #SANS_GROUP_NO='nope','USPsym'
                                    DX=0.0,
                                    DY=0.0,
                                    DZ=0.0),);

if includeUSP == True:
    BCs = (BCinterf, tie1, tie2, tie3)
else:
    BCs = (BCinterf, tie2, tie3)
                              
load10 = AFFE_CHAR_MECA(FORCE_NODALE=_F(FX = force10[0],
                                      FY = force10[1],
                                      FZ = force10[2],
                                      GROUP_NO=(nForce10, )),
                      MODELE=model)
                      
load45 = AFFE_CHAR_MECA(FORCE_NODALE=_F(FX = force45[0],
                                      FY = force45[1],
                                      FZ = force45[2],
                                      GROUP_NO=(nForce45, )),
                      MODELE=model)

t_macroEl = 0
t_modeGe = 0
t_harmo = 0

# Loop over N bands within this frequency band => N macroelem with optimized Rayleigh damping
normMode='TRAN'

# meanFreq is the frequency at which E' is gonna be taken. Since modes are damping independent, 
# we decide to compute them (interface and eigen) only once per job. So we evaluate them with 
# E' at the middle of the whole frequency range (among all jobs). It must be so, otherwise each job
# provides a different list of modes and analyzing their contributions to the response is much harder. 
# However, the frequency range of each job can be divided in nBands bands to better model Rayleigh damping. 
# So the damping matrices are recomputed for each band, as well as the macroelement.


meanFreqGlob = (freq1+freq2)/2.0 # (allFreqs[0] + allFreqs[-1])/2
meanFreqJob = (allFreqs[0] + allFreqs[-1])/2

# to be used for damping (not stiffness, see comments above !), when Rayleigh damping is not possible 
# and viscous damping is used. Properties are taken at the middle of the band


# Materials
allFreqsNP = np.array(allFreqs)
AB_concrete = GetAlphaBeta(allFreqsNP, eta_concrete*np.ones(len(allFreqs)))
AB_steel = GetAlphaBeta(allFreqsNP, eta_steel*np.ones(len(allFreqs)))

eta_padMat1 = np.array([f_TDPad1(f) for f in allFreqs])
AB_padMat1 = GetAlphaBeta(allFreqsNP, eta_padMat1)
eta_padMat2 = np.array([f_TDPad2(f) for f in allFreqs])
AB_padMat2 = GetAlphaBeta(allFreqsNP, eta_padMat2)

if includeUSP:
    eta_USP = np.array([f_TDUSP(f) for f in allFreqs])
    AB_USP = GetAlphaBeta(allFreqsNP, eta_USP)


                        
concrRe = DEFI_MATERIAU(ELAS=_F(AMOR_ALPHA=AB_concrete[0],
                                AMOR_BETA=AB_concrete[1],
                                E=46300.0,
                                NU=0.2,
                                RHO=2.4356e-09))
                            
steel = DEFI_MATERIAU(ELAS=_F(AMOR_ALPHA=AB_steel[0],
                              AMOR_BETA=AB_steel[1],
                              E=210000.0,
                              NU=0.3,
                              RHO=7.85e-09))
                            
padMat1 = DEFI_MATERIAU(ELAS=_F(AMOR_ALPHA=AB_padMat1[0],
                                AMOR_BETA=AB_padMat1[1],
                                E=f_EPad1(meanFreqGlob),
                                NU=nuPadMat1,
                                RHO=1.0e-09))
                                
padMat2 = DEFI_MATERIAU(ELAS=_F(AMOR_ALPHA=AB_padMat2[0],
                                AMOR_BETA=AB_padMat2[1],
                                E=f_EPad2(meanFreqGlob),
                                NU=nuPadMat2,
                                RHO=1.0e-09))   
    

if includeUSP == True:
    USPmat = DEFI_MATERIAU(ELAS=_F(AMOR_ALPHA=AB_USP[0],
                                   AMOR_BETA=AB_USP[1],
                                   E=f_EUSP(meanFreqGlob), 
                                   NU=nuUSP,
                                   RHO=0.375e-09)) 

    fieldmat = AFFE_MATERIAU(AFFE=(_F(GROUP_MA=('sleeper'),
                                      MATER=(concrRe, )),
                                   _F(GROUP_MA=('hard'),
                                      MATER=(padMat1, )),
                                   _F(GROUP_MA=('soft'),
                                      MATER=(padMat2, )),
                                   _F(GROUP_MA=('USP'),
                                      MATER=(USPmat, )),
                                   _F(GROUP_MA=('rail'),
                                      MATER=(steel, ))),
                             MAILLAGE=mesh,
                             MODELE=model,)
else:
    fieldmat = AFFE_MATERIAU(AFFE=(_F(GROUP_MA=('sleeper'),
                                      MATER=(concrRe, )),
                                   _F(GROUP_MA=('hard'),
                                      MATER=(padMat1, )),
                                   _F(GROUP_MA=('soft'),
                                      MATER=(padMat2, )),
                                   _F(GROUP_MA=('rail'),
                                      MATER=(steel, ))),
                             MAILLAGE=mesh,
                             MODELE=model,)
                    
######################################################
# Compute elementary matrices & assemble (K, M and vect are independent of damping)
######################################################  
nodeStiff_Y = f_EBal(meanFreqGlob)*(coefSlpBotArea*A_slpBot)/hBal/nNodesBal
nodeStiff_XZ = f_EBal(meanFreqGlob)/2/(1+nuBal)*(coefSlpBotArea*A_slpBot)/hBal/nNodesBal
nodeAmo_Y = nodeStiff_Y*f_TDBal(meanFreqJob)/(2*pi*meanFreqJob)
nodeAmo_XZ = nodeStiff_XZ*f_TDBal(meanFreqJob)/(2*pi*meanFreqJob)

elemprop = AFFE_CARA_ELEM(DISCRET=(_F(CARA='K_T_D_N',
                                      GROUP_MA=(discreteBalNodes+'0D'),
                                      REPERE='GLOBAL',
                                      VALE=(nodeStiff_XZ, nodeStiff_Y, nodeStiff_XZ),),
                                   _F(CARA='M_T_D_N',
                                      GROUP_MA=(discreteBalNodes+'0D'),
                                      REPERE='GLOBAL',
                                      VALE=0),
                                   _F(CARA='A_T_D_N',
                                      GROUP_MA=(discreteBalNodes+'0D'),
                                      REPERE='GLOBAL',
                                      VALE=(nodeAmo_XZ, nodeAmo_Y, nodeAmo_XZ)),
                                      ),
                          MODELE=model)
                              
matEl_K1=CALC_MATR_ELEM(MODELE=model,
                        CHAM_MATER=fieldmat,
                        OPTION='RIGI_MECA',
                        CHARGE=BCs,
                        CARA_ELEM=elemprop)
                        
num1 = NUME_DDL(MATR_RIGI=matEl_K1)
matAs_K1 = ASSE_MATRICE(MATR_ELEM=matEl_K1, NUME_DDL=num1)

matEl_M1=CALC_MATR_ELEM(MODELE=model,
                        CHAM_MATER=fieldmat,
                        OPTION='MASS_MECA',
                        CHARGE=BCs,
                        CARA_ELEM=elemprop)
                        
matAs_M1 = ASSE_MATRICE(MATR_ELEM=matEl_M1, NUME_DDL=num1)

vectEl10=CALC_VECT_ELEM(OPTION='CHAR_MECA',
                      CHARGE=load10, CARA_ELEM=elemprop)
                      
vectEl45=CALC_VECT_ELEM(OPTION='CHAR_MECA',
                      CHARGE=load45, CARA_ELEM=elemprop)

vectAs10 = ASSE_VECTEUR(VECT_ELEM=vectEl10, NUME_DDL=num1)
vectAs45 = ASSE_VECTEUR(VECT_ELEM=vectEl45, NUME_DDL=num1)

matEl_A1=CALC_MATR_ELEM(MODELE=model,
                        RIGI_MECA=matEl_K1,
                        MASS_MECA=matEl_M1,
                        CHAM_MATER=fieldmat,
                        OPTION='AMOR_MECA',
                        CHARGE=BCs,
                        CARA_ELEM=elemprop)
                        
matAs_A1 = ASSE_MATRICE(MATR_ELEM=matEl_A1, NUME_DDL=num1)  

######################################################
# Compute eigen modes (once since damping-independent)
######################################################
t_modes0 = time.time()

tabModes = INFO_MODE( MATR_RIGI = matAs_K1,
                      MATR_MASS = matAs_M1,
                      FREQ = freqBands1)                              

# Build a list of frequency bands which contain roughly the same desired number of modes
temp1 = tabModes.EXTR_TABLE()
temp2 = temp1.values()
fMin = temp2['FREQ_MIN']
fMax = temp2['FREQ_MAX']
nModes = temp2['NB_MODE']

nEigen = sum(nModes)

table = []
for i in range(len(fMin)):
    table.append([fMin[i], fMax[i], nModes[i]])

nModesPerBand = 40
nTot = 0
freqBandsOpt = [table[0][0]]
# nModesList = []
cursor = 0

i = 0
while i < len(table):
    f1 = table[i][0]
    f2 = table[i][1]
    nInBand = table[i][2]
    nRemaining = table[i][2]*(1-cursor)
    
    if nTot + nRemaining < nModesPerBand:
        nTot += nRemaining
        i += 1
        cursor = 0
        continue
    else:
        cursor += (nModesPerBand - nTot)/nInBand
        fSup = f1 + (f2 - f1)*cursor
        freqBandsOpt.append(fSup)
        # nModesList.append(nModesPerBand) # supposition.. works if modal density const in the band
        nTot = 0

if freqBandsOpt[-1] < table[-1][1]:
    freqBandsOpt.append(table[-1][1])
    # nModesList.append(nTot)

print('Optimized frequency bands : ')
print(freqBandsOpt)

# Modes computed with (E, tanD) of the middle of the frequency band
modes_1=CALC_MODES(MATR_RIGI=matAs_K1,
                   CALC_FREQ=_F(FREQ=freqBandsOpt,),
                   STOP_BANDE_VIDE='NON',
                   OPTION='BANDE',
                   NORM_MODE=_F(NORME=normMode),
                   MATR_MASS=matAs_M1,
                   VERI_MODE=_F(STOP_ERREUR='NON',),)
                   

print('TIME FOR INFO_MODE + CALC_MODES     ' + str(time.time() - t_modes0))

######################################################
# Compute static interface modes (once as well (iBand==0) cause damping indep)
######################################################
t_modesSta0 = time.time()

modStaR1=MODE_STATIQUE(MATR_RIGI=matAs_K1,
                       MATR_MASS=matAs_M1,
                       MODE_INTERF=_F(GROUP_NO = 'railBk',
                                      TOUT_CMP='OUI',
                                      NB_MODE=nModesRails,
                                      SHIFT=10.,),);

modStaR2=MODE_STATIQUE(MATR_RIGI=matAs_K1,
                       MATR_MASS=matAs_M1,
                       MODE_INTERF=_F(GROUP_NO = 'railFt',
                                      TOUT_CMP='OUI',
                                      NB_MODE=nModesRails,
                                      SHIFT=10.,),);

modStaS=MODE_STATIQUE(MATR_RIGI=matAs_K1,
                       MATR_MASS=matAs_M1,
                       MODE_INTERF=_F(GROUP_NO = slpSym,
                                      TOUT_CMP='OUI',
                                      NB_MODE=nModesSleeper,
                                      SHIFT=10.,),);

                                      
print('TIME FOR INTF MODES     ' + str(time.time() - t_modesSta0))
# Normalize static modes
modStaR1 = NORM_MODE(reuse=modStaR1, MODE=modStaR1, NORME=normMode)
modStaR2 = NORM_MODE(reuse=modStaR2, MODE=modStaR2, NORME=normMode)
modStaS = NORM_MODE(reuse=modStaS, MODE=modStaS, NORME=normMode)

t_bamo0 = time.time()

# Define dynamic interfaces   
Lint=DEFI_INTERF_DYNA(NUME_DDL=num1,
                      INTERFACE=(_F(NOM = 'I_slpSym',
                                    TYPE = 'CRAIGB',
                                    GROUP_NO = slpSym),
                                 _F(NOM = 'I_raiRBk',
                                    TYPE = 'CRAIGB',
                                    GROUP_NO = 'railBk'),
                                 _F(NOM = 'I_raiRFt',
                                    TYPE = 'CRAIGB',
                                    GROUP_NO = 'railFt'),))

######################################################
# Create modal basis
######################################################
bamo1=DEFI_BASE_MODALE(RITZ=(_F(MODE_MECA = modes_1, ),
                             _F(MODE_INTF = modStaR1, )),
                       INTERF_DYNA=Lint,
                       NUME_REF=num1)

bamo1=DEFI_BASE_MODALE(reuse=bamo1,
                       RITZ=(_F(BASE_MODALE=bamo1),
                             _F(MODE_INTF = modStaR2, )),
                       NUME_REF=num1)

bamo1=DEFI_BASE_MODALE(reuse=bamo1,
                       RITZ=(_F(BASE_MODALE=bamo1),
                             _F(MODE_INTF = modStaS, )),
                       NUME_REF=num1)

print('TIME FOR BAMO     ' + str(time.time() - t_bamo0))
    
######################################################
# Create macro element
######################################################
t_macroEl0 = time.time()

macroEl1 = MACR_ELEM_DYNA(BASE_MODALE=bamo1,
                          MATR_MASS=matAs_M1,
                          MATR_RIGI=matAs_K1,
                          MATR_AMOR=matAs_A1)
                          
print('TIME FOR MACROEL     ' + str(time.time() - t_macroEl0))
######################################################
# Macroelements coupling and generalized model creation
######################################################
t_modeGe0 = time.time()

substructs = []
liaisons = []
nSlp = 3
for i in range(nSlp):
    substR = _F(NOM = 'elem'+str(i)+'R', MACR_ELEM_DYNA = macroEl1, ANGL_NAUT = (0., 0., 0.), TRANS=(i*600,0.,0.))
    substL = _F(NOM = 'elem'+str(i)+'L', MACR_ELEM_DYNA = macroEl1, ANGL_NAUT = (0., 180., 0.), TRANS=(i*600,0.,0.))
    substructs.append(substR)
    substructs.append(substL)
    
    liais2 = _F(SOUS_STRUC_1 = 'elem'+str(i)+'R', SOUS_STRUC_2 = 'elem'+str(i)+'L', INTERFACE_1  = 'I_slpSym', INTERFACE_2  = 'I_slpSym', OPTION='REDUIT')
    liaisons.append(liais2)
    
    if i != nSlp-1:
        liais4 = _F(SOUS_STRUC_1 = 'elem'+str(i)+'R', SOUS_STRUC_2 = 'elem'+str(i+1)+'R', INTERFACE_1  = 'I_raiRFt', INTERFACE_2  = 'I_raiRBk', OPTION='REDUIT')
        liais6 = _F(SOUS_STRUC_1 = 'elem'+str(i)+'L', SOUS_STRUC_2 = 'elem'+str(i+1)+'L', INTERFACE_1  = 'I_raiRBk', INTERFACE_2  = 'I_raiRFt', OPTION='REDUIT')
        liaisons.append(liais4)
        liaisons.append(liais6)

modeGene=DEFI_MODELE_GENE(SOUS_STRUC=substructs, LIAISON=liaisons, VERIF=_F( STOP_ERREUR = 'OUI', PRECISION = 1.E-6, CRITERE = 'RELATIF'))
numGene=NUME_DDL_GENE(MODELE_GENE=modeGene);

######################################################
# ASSEMBLAGE DES MATRICES RAIDEUR ET MASSE GENERALISEES STATIQUES
######################################################
masGene=ASSE_MATR_GENE(NUME_DDL_GENE=numGene,
                                  OPTION='MASS_GENE');

rigGene=ASSE_MATR_GENE(NUME_DDL_GENE=numGene,
                                  OPTION='RIGI_GENE');
                                  
amoGene=ASSE_MATR_GENE(NUME_DDL_GENE=numGene,
                                  OPTION='AMOR_GENE');

vectGe10 = ASSE_VECT_GENE(NUME_DDL_GENE=numGene,CHAR_SOUS_STRUC=(_F(SOUS_STRUC = 'elem'+str(slpForce-1)+'R',VECT_ASSE = vectAs10),))        
vectGe45 = ASSE_VECT_GENE(NUME_DDL_GENE=numGene,CHAR_SOUS_STRUC=(_F(SOUS_STRUC = 'elem'+str(slpForce-1)+'R',VECT_ASSE = vectAs45),)) 

print('TIME FOR MODEGENE     ' + str(time.time() - t_modeGe0))
    
######################################################
# HARMONIC SIMULATION
######################################################
t_harmo0 = time.time()

harmGe10 = DYNA_VIBRA(BASE_CALCUL='GENE',
                      TYPE_CALCUL='HARM',
                      MATR_MASS=masGene,
                      MATR_RIGI=rigGene,
                      MATR_AMOR=amoGene,
                      FREQ=allFreqs,
                      TOUT_CHAM='OUI',
                      EXCIT=_F(VECT_ASSE_GENE=vectGe10, COEF_MULT=1.0,),
                      SOLVEUR=_F(METHODE='LDLT',
                                 RENUM='RCMK',
                                 NPREC=8,
                                 ELIM_LAGR='NON',
                                 STOP_SINGULIER='OUI',),)
                                 
harmGe45 = DYNA_VIBRA(BASE_CALCUL='GENE',
                      TYPE_CALCUL='HARM',
                      MATR_MASS=masGene,
                      MATR_RIGI=rigGene,
                      MATR_AMOR=amoGene,
                      FREQ=allFreqs,
                      TOUT_CHAM='OUI',
                      EXCIT=_F(VECT_ASSE_GENE=vectGe45, COEF_MULT=1.0,),
                      SOLVEUR=_F(METHODE='LDLT',
                                 RENUM='RCMK',
                                 NPREC=8,
                                 ELIM_LAGR='NON',
                                 STOP_SINGULIER='OUI',),)
 
print('TIME FOR HARMO     ' + str(time.time() - t_harmo0))
######################################################
# POST-PROCESSING : vect_mag (envelope of max modal vector components)
######################################################
nModesTot = nEigen + 2*nModesRails + nModesSleeper

vect_mag = [0]*nModesTot
for i in range(len(vect_mag)):
    vect_mag[i] = [0.0]*(nSlp*2)
    
for freq in allFreqs:
    dispGene = RECU_GENE(RESU_GENE=harmGe10,
                         NOM_CHAM='DEPL',
                         FREQ=freq)

    IMPR_GENE(UNITE=8, GENE=_F(RESU_GENE=dispGene))

    DETRUIRE(CONCEPT=_F(NOM=(dispGene)))

# if only 1 concept is printed to fort.8, nothing appears in it while still in the calculation (content=''). It's a bug..
if len(allFreqs) == 1:
    dispGen2 = RECU_GENE(RESU_GENE=harmGe10,
                         NOM_CHAM='DEPL',
                         FREQ=allFreqs[0])

    IMPR_GENE(UNITE=8, GENE=_F(RESU_GENE=dispGen2))
    DETRUIRE(CONCEPT=_F(NOM=(dispGen2)))

    
with open('fort.8','r') as f:
    content = f.read()
f.close()
lines = content.split('\n')

for line in lines:
    listLine = line.split(' ')
    listLine = [x.replace('D','e') for x in listLine if x]
    try:
        lineNo = int(listLine[0])
    except:
        continue
      
    # if lineNo > nModesTot:
        # continue

    modeNo = lineNo % nModesTot 
    macroElNo = (lineNo // nModesTot) % (3*nSlp) # 0 => 5
    if modeNo == 0: # True when lineNo == nModesTot
        modeNo = nModesTot
        macroElNo = macroElNo - 1
        
    modeNo = modeNo - 1 # 0 => 1409 p.ex
        
    real = float(listLine[1])
    imag = float(listLine[2])
    magn = (real**2+imag**2)**(1/2)

    print(str(lineNo) + ' ' + str(modeNo) + ' ' + str(macroElNo) + ' ' + str(magn))
        
    vect_mag[modeNo][macroElNo] = max(vect_mag[modeNo][macroElNo], magn)

vect_mag_str = []
for i in vect_mag:
    myStrList = []
    for j in i:
        myStrList.append(str(j))
    vect_mag_str.append('\t'.join(myStrList))
    
fileVectContent = '\n'.join(vect_mag_str)
fileVect=open('fort.91','w')
fileVect.write(fileVectContent)
fileVect.close()

#=====================================================

vect_mag = [0]*nModesTot
for i in range(len(vect_mag)):
    vect_mag[i] = [0.0]*(nSlp*2)
    
for freq in allFreqs:
    dispGene = RECU_GENE(RESU_GENE=harmGe45,
                         NOM_CHAM='DEPL',
                         FREQ=freq)

    IMPR_GENE(UNITE=9, GENE=_F(RESU_GENE=dispGene))
    DETRUIRE(CONCEPT=_F(NOM=(dispGene)))

# if only 1 concept is printed to fort.9, nothing appears in it while still in the calculation (content=''). It's a bug..
if len(allFreqs) == 1:
    dispGen2 = RECU_GENE(RESU_GENE=harmGe45,
                         NOM_CHAM='DEPL',
                         FREQ=allFreqs[0])

    IMPR_GENE(UNITE=9, GENE=_F(RESU_GENE=dispGen2))
    DETRUIRE(CONCEPT=_F(NOM=(dispGen2)))
    
    
with open('fort.9','r') as f:
    content = f.read()
f.close()
lines = content.split('\n')


for line in lines:
    listLine = line.split(' ')
    listLine = [x.replace('D','e') for x in listLine if x]
    try:
        lineNo = int(listLine[0])
    except:
        continue
      
    # if lineNo > nModesTot:
        # continue

    modeNo = lineNo % nModesTot 
    macroElNo = (lineNo // nModesTot) % (3*nSlp) # 0 => 5
    if modeNo == 0: # True when lineNo == nModesTot
        modeNo = nModesTot
        macroElNo = macroElNo - 1
        
    modeNo = modeNo - 1 # 0 => 1409 p.ex
        
    real = float(listLine[1])
    imag = float(listLine[2])
    magn = (real**2+imag**2)**(1/2)
        
    vect_mag[modeNo][macroElNo] = max(vect_mag[modeNo][macroElNo], magn)

vect_mag_str = []
for i in vect_mag:
    myStrList = []
    for j in i:
        myStrList.append(str(j))
    vect_mag_str.append('\t'.join(myStrList))
    
fileVectContent = '\n'.join(vect_mag_str)
fileVect=open('fort.92','w')
fileVect.write(fileVectContent)
fileVect.close()

try:
    IMPR_RESU(FORMAT='MED',
              RESU=_F(RESULTAT=modes_1),
              UNITE=82)
except:
    pass
          


 
t_fin = time.time()
print('nModesTot ' + str(nModesTot))
print('nEigen ' + str(nEigen))
print('TOTAL TIME ' + str(t_fin-t0))

fileModesContent = 'nEigen = ' + str(nEigen) + '\nnModesRails = ' + str(nModesRails) + '\nnModesSleeper = ' + str(nModesSleeper)
fileModes=open('fort.10','w')
fileModes.write(fileModesContent)
fileModes.close()

DETRUIRE(CONCEPT=_F(NOM=(matEl_A1, matAs_A1, masGene, rigGene, amoGene, vectGe10, vectGe45, elemprop)))
DETRUIRE(CONCEPT=_F(NOM=(meshSlp, meshRaiR, meshPadR, tmp2, mesh, mesh0, model, f_EBal, f_TDBal,  f_EPad1, )))
DETRUIRE(CONCEPT=_F(NOM=(f_EPad2, f_TDPad1, f_TDPad2, tie2, tie3, BCinterf, load10, load45, )))
DETRUIRE(CONCEPT=_F(NOM=(matEl_K1, concrRe, steel, padMat1, padMat2, fieldmat, tabModes, macroEl1, )))
DETRUIRE(CONCEPT=_F(NOM=(matAs_K1, matEl_M1, matAs_M1, vectEl10, vectEl45, vectAs10, vectAs45, modeGene, numGene, )))
DETRUIRE(CONCEPT=_F(NOM=(modStaR1, modStaR2, modStaS, Lint, bamo1, )))
DETRUIRE(CONCEPT=_F(NOM=(harmGe10, harmGe45, CH_id, intCH_id)))
if includeUSP == True:
    DETRUIRE(CONCEPT=_F(NOM=(meshUSP, tmp3, tie1, f_EUSP, f_TDUSP, USPmat)))

# saves only modes_1 & num1 to the base
FIN(RETASSAGE='OUI')

# ------------------------------------------------------------------------------------------

  Ouverture en écriture du fichier ./vola.1

 <INFO> Démarrage de l'exécution.
                                                                                
                                                                                
              -- CODE_ASTER -- VERSION : EXPLOITATION (stable) --               
                                                                                
                     Version 14.4.0 modifiée le 21/08/2019                      
                 révision 2708712c2a40 - branche 'v14.4_smeca'                  
                         Copyright EDF R&D 1991 - 2022                          
                                                                                
                    Exécution du : Thu Aug 25 18:58:22 2022                     
                         Nom de la machine : caelinuxVM                         
                              Architecture : 64bit                              
                          Type de processeur : x86_64                           
Système d'exploitation : Linux-4.15.0-112-generic-x86_64-with-debian-buster-sid 
                        Langue des messages : en (UTF-8)                        
                                                                                
                           Version de Python : 3.6.5                            
                           Version de NumPy : 1.15.1                            
   
   !------------------------------------------------------------------------------------!
   ! <A> <SUPERVIS2_2>                                                                  !
   !                                                                                    !
   !     Vous utilisez une vieille version de Code_Aster.                               !
   !                                                                                    !
   !     En mettant à jour votre version, vous bénéficierez des dernières améliorations !
   !     apportées au code depuis 15 mois.                                              !
   !     Si vous avez des développements privés, vous risquez d'avoir un travail        !
   !     important de portage si vous ne suivez pas les mises à jour.                   !
   !                                                                                    !
   !                                                                                    !
   ! Ceci est une alarme. Si vous ne comprenez pas le sens de cette                     !
   ! alarme, vous pouvez obtenir des résultats inattendus !                             !
   !------------------------------------------------------------------------------------!
   
                           Parallélisme MPI : inactif                           
                          Parallélisme OpenMP : actif                           
                        Nombre de processus utilisés : 1                        
                     Version de la librairie HDF5 : 1.10.3                      
                      Version de la librairie MED : 4.0.0                       
                     Version de la librairie MFront : 3.2.1                     
                     Version de la librairie MUMPS : 5.1.2                      
                        Librairie PETSc : non disponible                        
                     Version de la librairie SCOTCH : 6.0.4                     

                  Mémoire limite pour l'exécution : 8000.00 Mo                  
                   consommée par l'initialisation : 280.72 Mo                   
                  par les objets du jeu de commandes : 0.00 Mo                  
                 reste pour l'allocation dynamique : 7716.96 Mo                 
                Taille limite des fichiers d'échange : 48.00 Go                 
                                                                                

.. __stg1_txt4
  # ------------------------------------------------------------------------------------------
  # Commande No :  0001            Concept de type : -
  # ------------------------------------------------------------------------------------------
  DEBUT(PAR_LOT='NON',
        IMPR_MACRO='NON',
        DEBUG=_F(JXVERI='NON',
                 SDVERI='NON',
                 JEVEUX='NON',
                 HIST_ETAPE='NON',),
        MESURE_TEMPS=_F(NIVE_DETAIL=1,
                        MOYENNE='NON',),
        MEMOIRE=_F(TAILLE_BLOC=800.0,
                   TAILLE_GROUP_ELEM=1000,),
        RESERVE_CPU=_F(BORNE=900,),
        INFO=1,)

   
   !---------------------------------------------------!
   ! <I> <SUPERVIS_41>                                 !
   !                                                   !
   ! La version 14.4.0 a été modifiée par 1 révisions. !
   !---------------------------------------------------!
   
   
   !------------------------------------------------------------------------------------!
   ! <A> <SUPERVIS_1>                                                                   !
   !                                                                                    !
   !  L'utilisation du mot-clé PAR_LOT='NON' permet d'accéder en lecture et en écriture !
   !  au contenu des concepts Aster. De ce fait, votre étude est exclue du périmètre    !
   !  qualifié de Code_Aster puisque toutes ses étapes ne peuvent être certifiées.      !
   !                                                                                    !
   !  Conseils :                                                                        !
   !    - Il n'y a pas particulièrement de risque de résultat faux... sauf si votre     !
   !      programmation l'introduit.                                                    !
   !    - Distinguez le calcul lui-même (qui doit sans doute passer en PAR_LOT='OUI')   !
   !      des post-traitements (qui nécessiteraient le mode PAR_LOT='NON') qui peuvent  !
   !      être réalisés en POURSUITE.                                                   !
   !                                                                                    !
   !                                                                                    !
   ! Ceci est une alarme. Si vous ne comprenez pas le sens de cette                     !
   ! alarme, vous pouvez obtenir des résultats inattendus !                             !
   !------------------------------------------------------------------------------------!
   

  Valeur initiale du temps CPU maximum =   3600900 secondes
  Valeur du temps CPU maximum passé aux commandes =   3600000 secondes
  Réserve CPU prévue = 900 secondes

  Ouverture en écriture du fichier ./glob.1

  Ouverture en écriture du fichier ./vola.1

  Ouverture en lecture du fichier /opt/SalomeMeca/V2019_univ/tools/Code_aster_stable-v144_smeca/lib/aster/elem.1

     Nom de la base                          :  ELEMBASE
     Créée avec la version                   :  14.04.00
     Nombre d'enregistrements utilisés       :  43
     Nombre d'enregistrements maximum        :  512
     Longueur d'enregistrement (octets)      :  819200
     Nombre d'identificateurs utilisés       :  123
     Taille maximum du répertoire            :  300
     Pourcentage d'utilisation du répertoire :  41 %

  Ouverture en lecture du fichier /opt/SalomeMeca/V2019_univ/tools/Code_aster_stable-v144_smeca/lib/aster/elem.1


     Nom de la base                          :  ELEMBASE
     Nombre d'enregistrements utilisés       :  43
     Nombre d'enregistrements maximum        :  512
     Longueur d'enregistrement (octets)      :  819200
     Nombre total d'accès en lecture         :  60
     Volume des accès en lecture             :         46.88 Mo.
     Nombre total d'accès en écriture        :  0
     Volume des accès en écriture            :          0.00 Mo.
     Nombre d'identificateurs utilisés       :  123
     Taille maximum du répertoire            :  300
     Pourcentage d'utilisation du répertoire :  41 %

  Relecture des catalogues des éléments faite.

  Fin de lecture (durée  0.030178  s.) 
  # Mémoire (Mo) :   326.55 /   318.74 /    44.30 /    22.92 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0001   user+syst:        0.03s (syst:        0.02s, elaps:        0.04s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt100
  # ------------------------------------------------------------------------------------------
  # Commande No :  0002            Concept de type : maillage_sdaster
  # ------------------------------------------------------------------------------------------
  meshSlp = LIRE_MAILLAGE(FORMAT='MED',
                          UNITE=21,
                          INFO_MED=1,
                          VERI_MAIL=_F(VERIF='OUI',
                                       APLAT=1.E-3,),
                          INFO=1,)

Vérification du maillage.

------------ MAILLAGE meshSlp  - IMPRESSIONS NIVEAU  1 ------------

JE-25-AOUT-2022 18:58:22                                                        

NOMBRE DE NOEUDS                        5774

NOMBRE DE MAILLES                       6879
                              QUAD4                2347
                              HEXA8                4532

NOMBRE DE GROUPES DE NOEUDS                4
                              slpBot                             540
                              Sc_Y                                13
                              slpSym                              72
                              Ss_Y                                 9

NOMBRE DE GROUPES DE MAILLES               8
                              sleeper                           4532
                              slpBotV                            480
                              slpUpad                             64
                              slpAcY                             480
                              slpAcZ                              96
                              slpSym                              56
                              slpBot                             480
                              slpAcX                            1133

--------------------------------------------------------------------------------

  # Mémoire (Mo) :   326.55 /   321.40 /    44.30 /    22.92 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0002   user+syst:        0.02s (syst:        0.01s, elaps:        0.03s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt101
  # ------------------------------------------------------------------------------------------
  # Commande No :  0004            Concept de type : maillage_sdaster
  # ------------------------------------------------------------------------------------------
  meshRaiR = LIRE_MAILLAGE(FORMAT='MED',
                           UNITE=25,
                           INFO_MED=1,
                           VERI_MAIL=_F(VERIF='OUI',
                                        APLAT=1.E-3,),
                           INFO=1,)

Vérification du maillage.

------------ MAILLAGE meshRaiR - IMPRESSIONS NIVEAU  1 ------------

JE-25-AOUT-2022 18:58:23                                                        

NOMBRE DE NOEUDS                       14357

NOMBRE DE MAILLES                       5220
                              QUAD8                2668
                              HEXA20               2552

NOMBRE DE GROUPES DE NOEUDS               10
                              railBk                             233
                              nForce45                             1
                              railFt                             233
                              nForce10                             1
                              Rb_Y                                11
                              Ra_Y                                17
                              Ra_Z                                13
                              Rb_Z                                 7
                              Rf_Y                                11
                              nMunich                              1

NOMBRE DE GROUPES DE MAILLES               6
                              rail                              2552
                              railBotV                           168
                              railBk                              58
                              railFt                              58
                              railAcZ                            572
                              railAcY                            704

--------------------------------------------------------------------------------

  # Mémoire (Mo) :   326.55 /   323.03 /    44.30 /    22.92 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0004   user+syst:        0.02s (syst:        0.00s, elaps:        0.02s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt103
  # ------------------------------------------------------------------------------------------
  # Commande No :  0006            Concept de type : maillage_sdaster
  # ------------------------------------------------------------------------------------------
  meshPadR = LIRE_MAILLAGE(FORMAT='MED',
                           UNITE=23,
                           INFO_MED=1,
                           VERI_MAIL=_F(VERIF='OUI',
                                        APLAT=1.E-3,),
                           INFO=1,)

Vérification du maillage.

------------ MAILLAGE meshPadR - IMPRESSIONS NIVEAU  1 ------------

JE-25-AOUT-2022 18:58:23                                                        

NOMBRE DE NOEUDS                        9828

NOMBRE DE MAILLES                      12032
                              SEG2                  336
                              QUAD4                3906
                              HEXA8                7790

NOMBRE DE GROUPES DE NOEUDS                2
                              botn                              1638
                              topn                              1638

NOMBRE DE GROUPES DE MAILLES               4
                              hard                              1558
                              top                               1558
                              bot                               1558
                              soft                              6232

--------------------------------------------------------------------------------

  # Mémoire (Mo) :   326.55 /   325.09 /    44.30 /    22.92 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0006   user+syst:        0.03s (syst:        0.00s, elaps:        0.03s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt113
  # ------------------------------------------------------------------------------------------
  # Commande No :  0008            Concept de type : maillage_sdaster
  # ------------------------------------------------------------------------------------------
  meshPadR = MODI_MAILLAGE(reuse=meshPadR,
                           MAILLAGE=meshPadR,
                           ROTATION=_F(POIN_1=(0.0, 0.0, 0.0),
                                       ANGLE=-1.43261,
                                       POIN_2=(1000.0, 0.0, 0.0),),
                           INFO=1,)

  # Mémoire (Mo) :   326.55 /   325.09 /    44.30 /    22.92 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0008   user+syst:        0.00s (syst:        0.00s, elaps:        0.02s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt117
  # ------------------------------------------------------------------------------------------
  # Commande No :  0009            Concept de type : maillage_sdaster
  # ------------------------------------------------------------------------------------------
  meshPadR = MODI_MAILLAGE(reuse=meshPadR,
                           MAILLAGE=meshPadR,
                           TRANSLATION=(0.0, 214.0, 757.54),
                           INFO=1,)

  # Mémoire (Mo) :   326.55 /   325.09 /    44.30 /    22.92 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0009   user+syst:        0.00s (syst:        0.00s, elaps:        0.01s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt158
  # ------------------------------------------------------------------------------------------
  # Commande No :  0010            Concept de type : maillage_sdaster
  # ------------------------------------------------------------------------------------------
  tmp2 = ASSE_MAILLAGE(MAILLAGE_1=meshSlp,
                       MAILLAGE_2=meshPadR,
                       OPERATION='SUPERPOSE',)

  # Mémoire (Mo) :   327.62 /   327.62 /    44.30 /    22.92 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0010   user+syst:        0.04s (syst:        0.00s, elaps:        0.04s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt159
  # ------------------------------------------------------------------------------------------
  # Commande No :  0011            Concept de type : maillage_sdaster
  # ------------------------------------------------------------------------------------------
  mesh0 = ASSE_MAILLAGE(MAILLAGE_1=tmp2,
                        MAILLAGE_2=meshRaiR,
                        OPERATION='SUPERPOSE',)

  # Mémoire (Mo) :   331.80 /   331.80 /    47.56 /    22.92 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0011   user+syst:        0.06s (syst:        0.00s, elaps:        0.06s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt165
  # ------------------------------------------------------------------------------------------
  # Commande No :  0012            Concept de type : maillage_sdaster
  # ------------------------------------------------------------------------------------------
  mesh = CREA_MAILLAGE(MAILLAGE=mesh0,
                       CREA_POI1=_F(NOM_GROUP_MA=('slpBot0D', ),
                                    GROUP_NO=('slpBot', ),),
                       INFO=1,)

MOT CLE FACTEUR "CREA_POI1", OCCURRENCE    1
  CREATION DU GROUP_MA slpBot0D DE    540 MAILLES POI1

------------ MAILLAGE mesh     - IMPRESSIONS NIVEAU  1 ------------

ASTER 14.04.00 CONCEPT mesh CALCULE LE 25/08/2022 A 18:58:23 DE TYPE            
MAILLAGE_SDASTER                                                                

NOMBRE DE NOEUDS                       29959

NOMBRE DE MAILLES                      24671
                              POI1                  540
                              SEG2                  336
                              QUAD4                6253
                              QUAD8                2668
                              HEXA8               12322
                              HEXA20               2552

NOMBRE DE GROUPES DE NOEUDS               16
                              slpBot                             540
                              Sc_Y                                13
                              slpSym                              72
                              Ss_Y                                 9
                              botn                              1638
                              topn                              1638
                              railBk                             233
                              nForce45                             1
                              railFt                             233
                              nForce10                             1
                              Rb_Y                                11
                              Ra_Y                                17
                              Ra_Z                                13
                              Rb_Z                                 7
                              Rf_Y                                11
                              nMunich                              1

NOMBRE DE GROUPES DE MAILLES              19
                              sleeper                           4532
                              slpBotV                            480
                              slpUpad                             64
                              slpAcY                             480
                              slpAcZ                              96
                              slpSym                              56
                              slpBot                             480
                              slpAcX                            1133
                              hard                              1558
                              top                               1558
                              bot                               1558
                              soft                              6232
                              rail                              2552
                              railBotV                           168
                              railBk                              58
                              railFt                              58
                              railAcZ                            572
                              railAcY                            704
                              slpBot0D                           540

--------------------------------------------------------------------------------

  # Mémoire (Mo) :   337.03 /   336.14 /    52.73 /    22.92 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0012   user+syst:        0.06s (syst:        0.00s, elaps:        0.06s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt173
  # ------------------------------------------------------------------------------------------
  # Commande No :  0013            Concept de type : modele_sdaster
  # ------------------------------------------------------------------------------------------
  model = AFFE_MODELE(MAILLAGE=mesh,
                      AFFE=(_F(TOUT='OUI',
                               PHENOMENE='MECANIQUE',
                               MODELISATION=('3D', ),),
                            _F(GROUP_MA=('slpBot0D', ),
                               PHENOMENE='MECANIQUE',
                               MODELISATION=('DIS_T', ),),
                            ),
                      INFO=1,
                      DISTRIBUTION=_F(PARTITIONNEUR='METIS',
                                      METHODE='SOUS_DOMAINE',),
                      VERI_JACOBIEN='OUI',)


Sur les 24671 mailles du maillage mesh, on a demandé l'affectation de 24671, on a pu en affecter 24671
 Modélisation     Type maille  Élément fini     Nombre
                  SEG2         MECA_ARETE2      336
 DIS_T            POI1         MECA_DIS_T_N     540
                  QUAD4        MECA_FACE4       6253
                  QUAD8        MECA_FACE8       2668
 3D               HEXA20       MECA_HEXA20      2552
 3D               HEXA8        MECA_HEXA8       12322
#2      Calculs elementaires et assemblages               CPU (USER+SYST/SYST/ELAPS):      0.02      0.00      0.01
  # Mémoire (Mo) :   372.00 /   370.87 /    55.01 /    38.58 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0013   user+syst:        0.03s (syst:        0.00s, elaps:        0.02s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt179
  # ------------------------------------------------------------------------------------------
  # Commande No :  0014            Concept de type : cham_no_sdaster
  # ------------------------------------------------------------------------------------------
  CH_id = CREA_CHAMP(TYPE_CHAM='NOEU_NEUT_R',
                     OPERATION='AFFE',
                     MAILLAGE=mesh,
                     AFFE=_F(GROUP_MA=('slpBot', ),
                             NOM_CMP=('X1', ),
                             VALE=(1.0, ),),
                     INFO=1,)

  # Mémoire (Mo) :   372.00 /   371.56 /    55.01 /    38.58 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0014   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt185
  # ------------------------------------------------------------------------------------------
  # Commande No :  0015            Concept de type : table_sdaster
  # ------------------------------------------------------------------------------------------
  intCH_id = POST_ELEM(INTEGRALE=_F(GROUP_MA=('slpBot', ),
                                    NOM_CMP=('X1', ),
                                    TYPE_MAILLE='2D',),
                       MODELE=model,
                       CHAM_GD=CH_id,
                       PRECISION=1.E-06,
                       CRITERE='RELATIF',
                       INFO=1,)

#2      Calculs elementaires et assemblages               CPU (USER+SYST/SYST/ELAPS):      0.00      0.00      0.00
  # Mémoire (Mo) :   378.95 /   371.77 /    61.94 /    38.58 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0015   user+syst:        0.02s (syst:        0.00s, elaps:        0.03s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt206
  # ------------------------------------------------------------------------------------------
  # Commande No :  0016            Concept de type : fonction_sdaster
  # ------------------------------------------------------------------------------------------
  f_EPad1 = LIRE_FONCTION(UNITE=30,
                          NOM_PARA='FREQ',
                          PROL_DROITE='CONSTANT',
                          PROL_GAUCHE='CONSTANT',
                          INDIC_RESU=(1, 2),
                          FORMAT='LIBRE',
                          TYPE='FONCTION',
                          SEPAR='None',
                          INDIC_PARA=(1, 1),
                          NOM_RESU='TOUTRESU',
                          INTERPOL=('LIN', ),
                          VERIF='CROISSANT',
                          INFO=1,)

  # Mémoire (Mo) :   392.61 /   391.14 /    61.94 /    38.58 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0016   user+syst:        0.01s (syst:        0.00s, elaps:        0.01s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt211
  # ------------------------------------------------------------------------------------------
  # Commande No :  0020            Concept de type : fonction_sdaster
  # ------------------------------------------------------------------------------------------
  f_TDPad1 = LIRE_FONCTION(UNITE=31,
                           NOM_PARA='FREQ',
                           PROL_DROITE='CONSTANT',
                           PROL_GAUCHE='CONSTANT',
                           INDIC_RESU=(1, 2),
                           FORMAT='LIBRE',
                           TYPE='FONCTION',
                           SEPAR='None',
                           INDIC_PARA=(1, 1),
                           NOM_RESU='TOUTRESU',
                           INTERPOL=('LIN', ),
                           VERIF='CROISSANT',
                           INFO=1,)

  # Mémoire (Mo) :   392.61 /   391.14 /    61.94 /    38.58 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0020   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt217
  # ------------------------------------------------------------------------------------------
  # Commande No :  0024            Concept de type : fonction_sdaster
  # ------------------------------------------------------------------------------------------
  f_EPad2 = LIRE_FONCTION(UNITE=32,
                          NOM_PARA='FREQ',
                          PROL_DROITE='CONSTANT',
                          PROL_GAUCHE='CONSTANT',
                          INDIC_RESU=(1, 2),
                          FORMAT='LIBRE',
                          TYPE='FONCTION',
                          SEPAR='None',
                          INDIC_PARA=(1, 1),
                          NOM_RESU='TOUTRESU',
                          INTERPOL=('LIN', ),
                          VERIF='CROISSANT',
                          INFO=1,)

  # Mémoire (Mo) :   392.61 /   391.14 /    61.94 /    38.58 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0024   user+syst:        0.00s (syst:        0.00s, elaps:        0.01s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt222
  # ------------------------------------------------------------------------------------------
  # Commande No :  0028            Concept de type : fonction_sdaster
  # ------------------------------------------------------------------------------------------
  f_TDPad2 = LIRE_FONCTION(UNITE=33,
                           NOM_PARA='FREQ',
                           PROL_DROITE='CONSTANT',
                           PROL_GAUCHE='CONSTANT',
                           INDIC_RESU=(1, 2),
                           FORMAT='LIBRE',
                           TYPE='FONCTION',
                           SEPAR='None',
                           INDIC_PARA=(1, 1),
                           NOM_RESU='TOUTRESU',
                           INTERPOL=('LIN', ),
                           VERIF='CROISSANT',
                           INFO=1,)

  # Mémoire (Mo) :   392.61 /   391.14 /    61.94 /    38.58 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0028   user+syst:        0.01s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt238
  # ------------------------------------------------------------------------------------------
  # Commande No :  0032            Concept de type : fonction_sdaster
  # ------------------------------------------------------------------------------------------
  f_EBal = LIRE_FONCTION(UNITE=36,
                         NOM_PARA='FREQ',
                         PROL_DROITE='CONSTANT',
                         PROL_GAUCHE='CONSTANT',
                         INDIC_RESU=(1, 2),
                         FORMAT='LIBRE',
                         TYPE='FONCTION',
                         SEPAR='None',
                         INDIC_PARA=(1, 1),
                         NOM_RESU='TOUTRESU',
                         INTERPOL=('LIN', ),
                         VERIF='CROISSANT',
                         INFO=1,)

  # Mémoire (Mo) :   392.61 /   391.14 /    61.94 /    38.58 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0032   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt243
  # ------------------------------------------------------------------------------------------
  # Commande No :  0036            Concept de type : fonction_sdaster
  # ------------------------------------------------------------------------------------------
  f_TDBal = LIRE_FONCTION(UNITE=37,
                          NOM_PARA='FREQ',
                          PROL_DROITE='CONSTANT',
                          PROL_GAUCHE='CONSTANT',
                          INDIC_RESU=(1, 2),
                          FORMAT='LIBRE',
                          TYPE='FONCTION',
                          SEPAR='None',
                          INDIC_PARA=(1, 1),
                          NOM_RESU='TOUTRESU',
                          INTERPOL=('LIN', ),
                          VERIF='CROISSANT',
                          INFO=1,)

  # Mémoire (Mo) :   392.61 /   391.14 /    61.94 /    38.58 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0036   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt267
  # ------------------------------------------------------------------------------------------
  # Commande No :  0040            Concept de type : char_meca
  # ------------------------------------------------------------------------------------------
  tie2 = AFFE_CHAR_MECA(MODELE=model,
                        LIAISON_MAIL=_F(GROUP_MA_MAIT=('slpUpad', ),
                                        GROUP_NO_ESCL=('botn', ),
                                        TYPE_RACCORD='MASSIF',
                                        ELIM_MULT='NON',),
                        VERI_NORM='OUI',
                        DOUBLE_LAGRANGE='OUI',
                        INFO=1,)

  # Mémoire (Mo) :   400.69 /   400.69 /    70.33 /    38.58 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0040   user+syst:        0.11s (syst:        0.00s, elaps:        0.12s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt272
  # ------------------------------------------------------------------------------------------
  # Commande No :  0041            Concept de type : char_meca
  # ------------------------------------------------------------------------------------------
  tie3 = AFFE_CHAR_MECA(MODELE=model,
                        LIAISON_MAIL=_F(GROUP_MA_MAIT=('railBotV', ),
                                        GROUP_NO_ESCL=('topn', ),
                                        TYPE_RACCORD='MASSIF',
                                        ELIM_MULT='NON',),
                        VERI_NORM='OUI',
                        DOUBLE_LAGRANGE='OUI',
                        INFO=1,)

  # Mémoire (Mo) :   436.68 /   430.93 /   105.33 /    47.37 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0041   user+syst:        0.29s (syst:        0.01s, elaps:        0.29s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt278
  # ------------------------------------------------------------------------------------------
  # Commande No :  0042            Concept de type : char_meca
  # ------------------------------------------------------------------------------------------
  BCinterf = AFFE_CHAR_MECA(MODELE=model,
                            DDL_IMPO=_F(GROUP_NO=('railFt', 'railBk', 'slpSym'),
                                        DX=0.0,
                                        DY=0.0,
                                        DZ=0.0,),
                            VERI_NORM='OUI',
                            DOUBLE_LAGRANGE='OUI',
                            INFO=1,)

  # Mémoire (Mo) :   436.68 /   432.08 /   105.33 /    47.37 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0042   user+syst:        0.03s (syst:        0.00s, elaps:        0.03s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt289
  # ------------------------------------------------------------------------------------------
  # Commande No :  0043            Concept de type : char_meca
  # ------------------------------------------------------------------------------------------
  load10 = AFFE_CHAR_MECA(MODELE=model,
                          FORCE_NODALE=_F(GROUP_NO=('nForce10', ),
                                          FX=0,
                                          FY=-1.E5,
                                          FZ=1.E4,),
                          VERI_NORM='OUI',
                          DOUBLE_LAGRANGE='OUI',
                          INFO=1,)

  # Mémoire (Mo) :   436.68 /   433.22 /   105.33 /    47.37 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0043   user+syst:        0.01s (syst:        0.00s, elaps:        0.01s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt295
  # ------------------------------------------------------------------------------------------
  # Commande No :  0044            Concept de type : char_meca
  # ------------------------------------------------------------------------------------------
  load45 = AFFE_CHAR_MECA(MODELE=model,
                          FORCE_NODALE=_F(GROUP_NO=('nForce45', ),
                                          FX=0,
                                          FY=-173205,
                                          FZ=-173205,),
                          VERI_NORM='OUI',
                          DOUBLE_LAGRANGE='OUI',
                          INFO=1,)

  # Mémoire (Mo) :   436.68 /   434.37 /   105.44 /    47.37 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0044   user+syst:        0.00s (syst:        0.00s, elaps:        0.01s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt339
  # ------------------------------------------------------------------------------------------
  # Commande No :  0045            Concept de type : mater_sdaster
  # ------------------------------------------------------------------------------------------
  concrRe = DEFI_MATERIAU(ELAS=_F(E=4.6300E4,
                                  NU=0.2,
                                  RHO=2.4356E-09,
                                  AMOR_ALPHA=2.0371832715762604E-06,
                                  AMOR_BETA=120.63715789784806,
                                  COEF_AMOR=1.0,),
                          INFO=1,)

Propriétés définies dans le matériau: ELAS.
  # Mémoire (Mo) :   436.68 /   434.37 /   105.44 /    47.37 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0045   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt345
  # ------------------------------------------------------------------------------------------
  # Commande No :  0046            Concept de type : mater_sdaster
  # ------------------------------------------------------------------------------------------
  steel = DEFI_MATERIAU(ELAS=_F(E=2.10000E5,
                                NU=0.3,
                                RHO=7.85E-09,
                                AMOR_ALPHA=1.2732395447351627E-07,
                                AMOR_BETA=7.5398223686155035,
                                COEF_AMOR=1.0,),
                        INFO=1,)

Propriétés définies dans le matériau: ELAS.
  # Mémoire (Mo) :   436.68 /   434.37 /   105.44 /    47.37 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0046   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt351
  # ------------------------------------------------------------------------------------------
  # Commande No :  0047            Concept de type : mater_sdaster
  # ------------------------------------------------------------------------------------------
  padMat1 = DEFI_MATERIAU(ELAS=_F(E=151.3306,
                                  NU=0.48,
                                  RHO=1.E-09,
                                  AMOR_ALPHA=2.027382077279217E-05,
                                  AMOR_BETA=1200.5675443562782,
                                  COEF_AMOR=1.0,),
                          INFO=1,)

Propriétés définies dans le matériau: ELAS.
  # Mémoire (Mo) :   436.68 /   434.37 /   105.44 /    47.37 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0047   user+syst:        0.01s (syst:        0.00s, elaps:        0.01s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt357
  # ------------------------------------------------------------------------------------------
  # Commande No :  0048            Concept de type : mater_sdaster
  # ------------------------------------------------------------------------------------------
  padMat2 = DEFI_MATERIAU(ELAS=_F(E=151.3306,
                                  NU=0.48,
                                  RHO=1.E-09,
                                  AMOR_ALPHA=2.027382077279217E-05,
                                  AMOR_BETA=1200.5675443562782,
                                  COEF_AMOR=1.0,),
                          INFO=1,)

Propriétés définies dans le matériau: ELAS.
  # Mémoire (Mo) :   436.68 /   434.37 /   105.44 /    47.37 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0048   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt389
  # ------------------------------------------------------------------------------------------
  # Commande No :  0049            Concept de type : cham_mater
  # ------------------------------------------------------------------------------------------
  fieldmat = AFFE_MATERIAU(MAILLAGE=mesh,
                           MODELE=model,
                           AFFE=(_F(GROUP_MA=('sleeper', ),
                                    MATER=(concrRe, ),),
                                 _F(GROUP_MA=('hard', ),
                                    MATER=(padMat1, ),),
                                 _F(GROUP_MA=('soft', ),
                                    MATER=(padMat2, ),),
                                 _F(GROUP_MA=('rail', ),
                                    MATER=(steel, ),),
                                 ),
                           INFO=1,)

  # Mémoire (Mo) :   436.68 /   434.37 /   105.44 /    47.37 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0049   user+syst:        0.00s (syst:        0.00s, elaps:        0.01s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt412
  # ------------------------------------------------------------------------------------------
  # Commande No :  0050            Concept de type : cara_elem
  # ------------------------------------------------------------------------------------------
  elemprop = AFFE_CARA_ELEM(MODELE=model,
                            DISCRET=(_F(REPERE='GLOBAL',
                                        CARA='K_T_D_N',
                                        GROUP_MA=('slpBot0D', ),
                                        VALE=(2.6203704283304667E5, 5.764814942327027E5, 2.6203704283304667E5),
                                        SYME='OUI',),
                                     _F(REPERE='GLOBAL',
                                        CARA='M_T_D_N',
                                        GROUP_MA=('slpBot0D', ),
                                        VALE=0,
                                        SYME='OUI',),
                                     _F(REPERE='GLOBAL',
                                        CARA='A_T_D_N',
                                        GROUP_MA=('slpBot0D', ),
                                        VALE=(35.031772137652155, 77.06989870283472, 35.031772137652155),
                                        SYME='OUI',),
                                     ),
                            INFO=1,)


     LE MODELE model    CONTIENT : 
                                      540 ELEMENT(S) DISCRET         
                                    14874 ELEMENT(S) MASSIF          
#2      Calculs elementaires et assemblages               CPU (USER+SYST/SYST/ELAPS):      0.00      0.00      0.00
  # Mémoire (Mo) :   440.84 /   438.64 /   110.49 /    47.37 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0050   user+syst:        0.12s (syst:        0.01s, elaps:        0.12s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt418
  # ------------------------------------------------------------------------------------------
  # Commande No :  0052            Concept de type : matr_elem_depl_r
  # ------------------------------------------------------------------------------------------
  matEl_K1 = CALC_MATR_ELEM(OPTION='RIGI_MECA',
                            MODELE=model,
                            CHAM_MATER=fieldmat,
                            CARA_ELEM=elemprop,
                            CHARGE=(BCinterf, tie2, tie3),
                            MODE_FOURIER=0,
                            CALC_ELEM_MODELE='OUI',
                            INST=0.0,)

#2      Calculs elementaires et assemblages               CPU (USER+SYST/SYST/ELAPS):      0.37      0.03      0.36
  # Mémoire (Mo) :   515.85 /   509.29 /   185.71 /    65.52 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0052   user+syst:        0.37s (syst:        0.03s, elaps:        0.37s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt420
  # ------------------------------------------------------------------------------------------
  # Commande No :  0053            Concept de type : nume_ddl_sdaster
  # ------------------------------------------------------------------------------------------
  num1 = NUME_DDL(MATR_RIGI=(matEl_K1, ),)

  Le système linéaire à résoudre a 112761 degrés de liberté:
   - 89877 sont des degrés de liberté physiques
     (ils sont portés par 29959 noeuds du maillage)
   - 22884 sont les couples de paramètres de Lagrange associés
     aux 11442 relations linéaires dualisées.
  La matrice est de taille 112761 équations.
  Elle contient 5537580 termes non nuls si elle est symétrique et 10962399 termes non nuls si elle n'est pas symétrique.
  Soit un taux de remplissage de   0.086 %.
#1      Resolution des systemes lineaires                 CPU (USER+SYST/SYST/ELAPS):      0.87      0.14      0.89
  # Mémoire (Mo) :   667.72 /   537.55 /   336.91 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0053   user+syst:        0.87s (syst:        0.14s, elaps:        0.89s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt421
  # ------------------------------------------------------------------------------------------
  # Commande No :  0054            Concept de type : matr_asse_depl_r
  # ------------------------------------------------------------------------------------------
  matAs_K1 = ASSE_MATRICE(MATR_ELEM=matEl_K1,
                          NUME_DDL=num1,)

#2      Calculs elementaires et assemblages               CPU (USER+SYST/SYST/ELAPS):      0.27      0.01      0.27
  # Mémoire (Mo) :   667.72 /   584.53 /   336.91 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0054   user+syst:        0.27s (syst:        0.01s, elaps:        0.27s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt427
  # ------------------------------------------------------------------------------------------
  # Commande No :  0055            Concept de type : matr_elem_depl_r
  # ------------------------------------------------------------------------------------------
  matEl_M1 = CALC_MATR_ELEM(OPTION='MASS_MECA',
                            MODELE=model,
                            CHAM_MATER=fieldmat,
                            CARA_ELEM=elemprop,
                            CHARGE=(BCinterf, tie2, tie3),
                            INST=0.0,)

#2      Calculs elementaires et assemblages               CPU (USER+SYST/SYST/ELAPS):      0.13      0.02      0.12
  # Mémoire (Mo) :   667.72 /   648.42 /   336.91 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0055   user+syst:        0.13s (syst:        0.02s, elaps:        0.13s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt429
  # ------------------------------------------------------------------------------------------
  # Commande No :  0056            Concept de type : matr_asse_depl_r
  # ------------------------------------------------------------------------------------------
  matAs_M1 = ASSE_MATRICE(MATR_ELEM=matEl_M1,
                          NUME_DDL=num1,)

#2      Calculs elementaires et assemblages               CPU (USER+SYST/SYST/ELAPS):      0.18      0.01      0.18
  # Mémoire (Mo) :   690.67 /   690.67 /   356.09 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0056   user+syst:        0.18s (syst:        0.01s, elaps:        0.18s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt432
  # ------------------------------------------------------------------------------------------
  # Commande No :  0057            Concept de type : vect_elem_depl_r
  # ------------------------------------------------------------------------------------------
  vectEl10 = CALC_VECT_ELEM(OPTION='CHAR_MECA',
                            CHARGE=(load10, ),
                            CARA_ELEM=elemprop,
                            INST=0.0,
                            MODE_FOURIER=0,)

#2      Calculs elementaires et assemblages               CPU (USER+SYST/SYST/ELAPS):      0.00      0.00      0.00
  # Mémoire (Mo) :   690.67 /   690.67 /   356.20 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0057   user+syst:        0.01s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt435
  # ------------------------------------------------------------------------------------------
  # Commande No :  0058            Concept de type : vect_elem_depl_r
  # ------------------------------------------------------------------------------------------
  vectEl45 = CALC_VECT_ELEM(OPTION='CHAR_MECA',
                            CHARGE=(load45, ),
                            CARA_ELEM=elemprop,
                            INST=0.0,
                            MODE_FOURIER=0,)

#2      Calculs elementaires et assemblages               CPU (USER+SYST/SYST/ELAPS):      0.00      0.00      0.00
  # Mémoire (Mo) :   690.67 /   690.67 /   356.20 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0058   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt437
  # ------------------------------------------------------------------------------------------
  # Commande No :  0059            Concept de type : cham_no_sdaster
  # ------------------------------------------------------------------------------------------
  vectAs10 = ASSE_VECTEUR(VECT_ELEM=(vectEl10, ),
                          NUME_DDL=num1,)

#2      Calculs elementaires et assemblages               CPU (USER+SYST/SYST/ELAPS):      0.00      0.00      0.00
  # Mémoire (Mo) :   691.53 /   691.53 /   356.84 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0059   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt438
  # ------------------------------------------------------------------------------------------
  # Commande No :  0060            Concept de type : cham_no_sdaster
  # ------------------------------------------------------------------------------------------
  vectAs45 = ASSE_VECTEUR(VECT_ELEM=(vectEl45, ),
                          NUME_DDL=num1,)

#2      Calculs elementaires et assemblages               CPU (USER+SYST/SYST/ELAPS):      0.00      0.00      0.00
  # Mémoire (Mo) :   692.39 /   692.39 /   357.70 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0060   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt446
  # ------------------------------------------------------------------------------------------
  # Commande No :  0061            Concept de type : matr_elem_depl_r
  # ------------------------------------------------------------------------------------------
  matEl_A1 = CALC_MATR_ELEM(OPTION='AMOR_MECA',
                            MODELE=model,
                            CARA_ELEM=elemprop,
                            CHAM_MATER=fieldmat,
                            RIGI_MECA=matEl_K1,
                            MASS_MECA=matEl_M1,
                            CHARGE=(BCinterf, tie2, tie3),
                            INST=0.0,)

#2      Calculs elementaires et assemblages               CPU (USER+SYST/SYST/ELAPS):      0.17      0.05      0.16
  # Mémoire (Mo) :   796.39 /   756.29 /   462.07 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0061   user+syst:        0.17s (syst:        0.05s, elaps:        0.16s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt448
  # ------------------------------------------------------------------------------------------
  # Commande No :  0062            Concept de type : matr_asse_depl_r
  # ------------------------------------------------------------------------------------------
  matAs_A1 = ASSE_MATRICE(MATR_ELEM=matEl_A1,
                          NUME_DDL=num1,)

#2      Calculs elementaires et assemblages               CPU (USER+SYST/SYST/ELAPS):      0.19      0.02      0.19
  # Mémoire (Mo) :   798.54 /   798.54 /   463.93 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0062   user+syst:        0.19s (syst:        0.02s, elaps:        0.19s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt457
  # ------------------------------------------------------------------------------------------
  # Commande No :  0063            Concept de type : table_sdaster
  # ------------------------------------------------------------------------------------------
  tabModes = INFO_MODE(MATR_RIGI=matAs_K1,
                       MATR_MASS=matAs_M1,
                       FREQ=(0, 1000, 2000),
                       COMPTAGE=_F(METHODE='AUTO',
                                   SEUIL_FREQ=1.E-2,
                                   PREC_SHIFT=0.05,
                                   NMAX_ITER_SHIFT=3,),
                       TYPE_MODE='DYNAMIQUE',
                       INFO=1,
                       SOLVEUR=_F(RENUM='AUTO',
                                  NPREC=8,
                                  ELIM_LAGR='LAGR2',
                                  TYPE_RESOL='AUTO',
                                  ACCELERATION='AUTO',
                                  LOW_RANK_SEUIL=0.0,
                                  PRETRAITEMENTS='AUTO',
                                  PCENT_PIVOT=20,
                                  GESTION_MEMOIRE='AUTO',
                                  METHODE='MUMPS',),
                       NIVEAU_PARALLELISME='COMPLET',
                       )


 Opérateur INFO_MODE + COMPTAGE/METHODE='AUTO'.
 Compte-tenu des propriétés des matrices fournies (nombre, type, symétrie), on a choisi pour vous la
 méthode de comptage: STURM.
  Le nombre total de DDL est       :     112761
  Le nombre de DDL de Lagrange est :      22884
  Le nombre de DDL actifs est      :      78435
------------------------------------------------------------------------

  Vérification du spectre de fréquences (Méthode de Sturm)

  Il n'y a pas de fréquence dans la bande numéro 1 de bornes ( 0.000E+00 , 1.000E+03 )
------------------------------------------------------------------------

  Nombre de fréquences dans la bande numéro 2 de bornes ( 1.000E+03 , 2.000E+03 ) : 2
------------------------------------------------------------------------

#1      Resolution des systemes lineaires                 CPU (USER+SYST/SYST/ELAPS):     46.94      0.68     47.04
  # Mémoire (Mo) :  1601.49 /   775.22 /   529.76 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0063   user+syst:       47.15s (syst:        0.74s, elaps:       47.33s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt511
  # ------------------------------------------------------------------------------------------
  # Commande No :  0064            Concept de type : mode_meca
  # ------------------------------------------------------------------------------------------
  modes_1 = CALC_MODES(OPTION='BANDE',
                       STOP_BANDE_VIDE='NON',
                       SOLVEUR_MODAL=_F(PREC_SOREN=0.0,
                                        NMAX_ITER_SOREN=20,
                                        PARA_ORTHO_SOREN=0.717,
                                        METHODE='SORENSEN',
                                        APPROCHE='REEL',),
                       MATR_RIGI=matAs_K1,
                       MATR_MASS=matAs_M1,
                       CALC_FREQ=_F(FREQ=(0.0, 2000.0),
                                    NMAX_ITER_SHIFT=3,
                                    PREC_SHIFT=0.05,
                                    SEUIL_FREQ=1.E-2,),
                       NORM_MODE=_F(NORME='TRAN',
                                    INFO=1,),
                       SOLVEUR=_F(RENUM='AUTO',
                                  NPREC=8,
                                  ELIM_LAGR='LAGR2',
                                  TYPE_RESOL='AUTO',
                                  ACCELERATION='AUTO',
                                  LOW_RANK_SEUIL=0.0,
                                  PRETRAITEMENTS='AUTO',
                                  POSTTRAITEMENTS='AUTO',
                                  PCENT_PIVOT=20,
                                  RESI_RELA=-1.0,
                                  GESTION_MEMOIRE='AUTO',
                                  METHODE='MUMPS',),
                       VERI_MODE=_F(STOP_ERREUR='NON',
                                    SEUIL=1.E-06,
                                    PREC_SHIFT=5.E-3,
                                    STURM='GLOBAL',),
                       TYPE_RESU='DYNAMIQUE',
                       AMELIORATION='NON',
                       INFO=1,)

  Le nombre total de DDL est       :     112761
  Le nombre de DDL de Lagrange est :      22884
  Le nombre de DDL actifs est      :      78435
  L'option choisie est : BANDE
------------------------------------------------------------------------

  Vérification du spectre de fréquences (Méthode de Sturm)

  Nombre de fréquences propres inférieures à  2.000E+03 Hz : 2
------------------------------------------------------------------------

  La valeur minimale en fréquence est :  0.00000E+00
  La valeur maximale en fréquence est :  2.00000E+03
  La valeur de décalage en fréquence est :  1.41421E+03
------------------------------------------------------------------------

      Informations sur le calcul demandé:

  Nombre de modes recherchés  : 2

  La dimension de l'espace réduit est : 0
  Elle est inférieure au nombre de modes, on la prend égale à : 5


     =============================================
     =       Méthode de Sorensen (code ARPACK)   =
     =       Version :  2.4                      =
     =          Date :  07/31/96                 =
     =============================================

     Nombre de redémarrages                     =     5
     Nombre de produits OP*X                    =    18
     Nombre de produits B*X                     =    56
     Nombre de réorthogonalisations  (étape 1)  =    17
     Nombre de réorthogonalisations  (étape 2)  =     0
     Nombre de redémarrages du a un V0 nul      =     0

------------------------------------------------------------------------
  Les fréquences calculées sont comprises entre :
      Fréquence inférieure :  1.02200E+03
      Fréquence supérieure :  1.67293E+03

------------------------------------------------------------------------
     Calcul modal : Méthode d'itération simultanée
                    Méthode de Sorensen

numéro    fréquence (HZ)     norme d'erreur
    1       1.02200E+03        1.11493E-10
    2       1.67293E+03        1.34716E-10

  Norme d'erreur moyenne   :  1.23104E-10
------------------------------------------------------------------------

         Vérification à posteriori des modes

  Dans l'intervalle ( 1.01944E+03 , 1.67711E+03 ) il y a bien 2 fréquence(s).
------------------------------------------------------------------------

#1      Resolution des systemes lineaires                 CPU (USER+SYST/SYST/ELAPS):     84.05      1.36     84.28
 Normalisation des modes : modes_1


 NUME_ORDRE             ancienne norme              nouvelle norme
     1                  SANS_CMP: LAGR                        TRAN
     2                  SANS_CMP: LAGR                        TRAN
  # Mémoire (Mo) :  3973.66 /   800.55 /   534.95 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0064   user+syst:       85.20s (syst:        1.53s, elaps:       85.45s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt526
  # ------------------------------------------------------------------------------------------
  # Commande No :  0070            Concept de type : mode_meca
  # ------------------------------------------------------------------------------------------
  modStaR1 = MODE_STATIQUE(MATR_RIGI=matAs_K1,
                           MATR_MASS=matAs_M1,
                           MODE_INTERF=_F(GROUP_NO=('railBk', ),
                                          TOUT_CMP='OUI',
                                          NB_MODE=20,
                                          SHIFT=10.0,),
                           SOLVEUR=_F(RENUM='AUTO',
                                      NPREC=8,
                                      ELIM_LAGR='LAGR2',
                                      STOP_SINGULIER='OUI',
                                      TYPE_RESOL='AUTO',
                                      ACCELERATION='AUTO',
                                      LOW_RANK_SEUIL=0.0,
                                      PRETRAITEMENTS='AUTO',
                                      POSTTRAITEMENTS='AUTO',
                                      PCENT_PIVOT=20,
                                      RESI_RELA=1.E-06,
                                      GESTION_MEMOIRE='AUTO',
                                      METHODE='MUMPS',),
                           INFO=1,)

 ------------------------------------------------------------------------
  VOUS AVEZ DEMANDE                   20  MODES
  LA TAILE DU SOUS ESPACE RETENU EST                   34
 ------------------------------------------------------------------------
  Le nombre total de DDL est       :       1398
  Le nombre de DDL de Lagrange est :          0
  Le nombre de DDL actifs est      :       1398
  L'option choisie est : PLUS_PETITE
  La valeur de décalage en fréquence est :  0.00000E+00
------------------------------------------------------------------------


  39 charges critiques  dans l'intervalle demandé
      Informations sur le calcul demandé:

  Nombre de modes recherchés  : 39

  La dimension de l'espace réduit est : 0
  Elle est inférieure au nombre de modes, on la prend égale à : 78


     =============================================
     =       Méthode de Sorensen (code ARPACK)   =
     =       Version :  2.4                      =
     =          Date :  07/31/96                 =
     =============================================

     Nombre de redémarrages                     =     1
     Nombre de produits OP*X                    =    79
     Nombre de produits B*X                     =   234
     Nombre de réorthogonalisations  (étape 1)  =    77
     Nombre de réorthogonalisations  (étape 2)  =     0
     Nombre de redémarrages du a un V0 nul      =     0

------------------------------------------------------------------------
  Les fréquences calculées sont comprises entre :
      Fréquence inférieure : -1.00000E+01
      Fréquence supérieure :  1.56811E+04

------------------------------------------------------------------------
         1          279.33
         2          633.72
         3          822.81
         4         1684.83
         5         2090.81
         6         2409.19
         7         3423.56
         8         4266.01
         9         5327.89
        10         6024.71
        11        10440.57
        12        11344.57
        13        15026.66
        14        17105.29
        15        19103.10
        16        24346.77
        17        29701.36
        18        30921.17
        19        39854.58
        20        39956.51
#1      Resolution des systemes lineaires                 CPU (USER+SYST/SYST/ELAPS):     17.35      0.32     17.45
  # Mémoire (Mo) :  4115.23 /   821.20 /   618.96 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0070   user+syst:       18.83s (syst:        0.44s, elaps:       18.94s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt533
  # ------------------------------------------------------------------------------------------
  # Commande No :  0071            Concept de type : mode_meca
  # ------------------------------------------------------------------------------------------
  modStaR2 = MODE_STATIQUE(MATR_RIGI=matAs_K1,
                           MATR_MASS=matAs_M1,
                           MODE_INTERF=_F(GROUP_NO=('railFt', ),
                                          TOUT_CMP='OUI',
                                          NB_MODE=20,
                                          SHIFT=10.0,),
                           SOLVEUR=_F(RENUM='AUTO',
                                      NPREC=8,
                                      ELIM_LAGR='LAGR2',
                                      STOP_SINGULIER='OUI',
                                      TYPE_RESOL='AUTO',
                                      ACCELERATION='AUTO',
                                      LOW_RANK_SEUIL=0.0,
                                      PRETRAITEMENTS='AUTO',
                                      POSTTRAITEMENTS='AUTO',
                                      PCENT_PIVOT=20,
                                      RESI_RELA=1.E-06,
                                      GESTION_MEMOIRE='AUTO',
                                      METHODE='MUMPS',),
                           INFO=1,)

 ------------------------------------------------------------------------
  VOUS AVEZ DEMANDE                   20  MODES
  LA TAILE DU SOUS ESPACE RETENU EST                   34
 ------------------------------------------------------------------------
  Le nombre total de DDL est       :       1398
  Le nombre de DDL de Lagrange est :          0
  Le nombre de DDL actifs est      :       1398
  L'option choisie est : PLUS_PETITE
  La valeur de décalage en fréquence est :  0.00000E+00
------------------------------------------------------------------------


  39 charges critiques  dans l'intervalle demandé
      Informations sur le calcul demandé:

  Nombre de modes recherchés  : 39

  La dimension de l'espace réduit est : 0
  Elle est inférieure au nombre de modes, on la prend égale à : 78


     =============================================
     =       Méthode de Sorensen (code ARPACK)   =
     =       Version :  2.4                      =
     =          Date :  07/31/96                 =
     =============================================

     Nombre de redémarrages                     =     1
     Nombre de produits OP*X                    =    79
     Nombre de produits B*X                     =   235
     Nombre de réorthogonalisations  (étape 1)  =    78
     Nombre de réorthogonalisations  (étape 2)  =     0
     Nombre de redémarrages du a un V0 nul      =     0

------------------------------------------------------------------------
  Les fréquences calculées sont comprises entre :
      Fréquence inférieure : -1.00000E+01
      Fréquence supérieure :  1.56811E+04

------------------------------------------------------------------------
         1          279.33
         2          633.72
         3          822.81
         4         1684.83
         5         2090.81
         6         2409.19
         7         3423.56
         8         4266.00
         9         5327.89
        10         6024.71
        11        10440.57
        12        11344.57
        13        15026.66
        14        17105.29
        15        19103.10
        16        24346.77
        17        29701.36
        18        30921.17
        19        39854.58
        20        39956.51
#1      Resolution des systemes lineaires                 CPU (USER+SYST/SYST/ELAPS):     17.68      0.41     17.77
  # Mémoire (Mo) :  4132.74 /   837.86 /   636.27 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0071   user+syst:       19.14s (syst:        0.50s, elaps:       19.25s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt540
  # ------------------------------------------------------------------------------------------
  # Commande No :  0072            Concept de type : mode_meca
  # ------------------------------------------------------------------------------------------
  modStaS = MODE_STATIQUE(MATR_RIGI=matAs_K1,
                          MATR_MASS=matAs_M1,
                          MODE_INTERF=_F(GROUP_NO=('slpSym', ),
                                         TOUT_CMP='OUI',
                                         NB_MODE=20,
                                         SHIFT=10.0,),
                          SOLVEUR=_F(RENUM='AUTO',
                                     NPREC=8,
                                     ELIM_LAGR='LAGR2',
                                     STOP_SINGULIER='OUI',
                                     TYPE_RESOL='AUTO',
                                     ACCELERATION='AUTO',
                                     LOW_RANK_SEUIL=0.0,
                                     PRETRAITEMENTS='AUTO',
                                     POSTTRAITEMENTS='AUTO',
                                     PCENT_PIVOT=20,
                                     RESI_RELA=1.E-06,
                                     GESTION_MEMOIRE='AUTO',
                                     METHODE='MUMPS',),
                          INFO=1,)

 ------------------------------------------------------------------------
  VOUS AVEZ DEMANDE                   20  MODES
  LA TAILE DU SOUS ESPACE RETENU EST                   34
 ------------------------------------------------------------------------
  Le nombre total de DDL est       :        432
  Le nombre de DDL de Lagrange est :          0
  Le nombre de DDL actifs est      :        432
  L'option choisie est : PLUS_PETITE
  La valeur de décalage en fréquence est :  0.00000E+00
------------------------------------------------------------------------


  39 charges critiques  dans l'intervalle demandé
      Informations sur le calcul demandé:

  Nombre de modes recherchés  : 39

  La dimension de l'espace réduit est : 0
  Elle est inférieure au nombre de modes, on la prend égale à : 78


     =============================================
     =       Méthode de Sorensen (code ARPACK)   =
     =       Version :  2.4                      =
     =          Date :  07/31/96                 =
     =============================================

     Nombre de redémarrages                     =     2
     Nombre de produits OP*X                    =    99
     Nombre de produits B*X                     =   294
     Nombre de réorthogonalisations  (étape 1)  =    96
     Nombre de réorthogonalisations  (étape 2)  =     0
     Nombre de redémarrages du a un V0 nul      =     0

------------------------------------------------------------------------
  Les fréquences calculées sont comprises entre :
      Fréquence inférieure : -1.00000E+01
      Fréquence supérieure :  5.63415E+04

------------------------------------------------------------------------
         1         3207.99
         2         3878.80
         3         6221.83
         4         7214.71
         5         9853.90
         6        10728.75
         7        12423.84
         8        13314.49
         9        15766.15
        10        17899.83
        11        19297.67
        12        22093.40
        13        23082.11
        14        24417.19
        15        27129.31
        16        30004.28
        17        31009.97
        18        32149.03
        19        34108.18
        20        37830.07
#1      Resolution des systemes lineaires                 CPU (USER+SYST/SYST/ELAPS):     17.57      0.34     17.66
  # Mémoire (Mo) :  4147.43 /   855.67 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0072   user+syst:       18.98s (syst:        0.42s, elaps:       19.07s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt545
  # ------------------------------------------------------------------------------------------
  # Commande No :  0073            Concept de type : mode_meca
  # ------------------------------------------------------------------------------------------
  modStaR1 = NORM_MODE(reuse=modStaR1,
                       MODE=modStaR1,
                       NORME='TRAN',
                       INFO=1,)

   
   !-------------------------------------------------------------------------------------!
   ! <A> <ALGELINE_1>                                                                    !
   !                                                                                     !
   !  La base modale à normer (modStaR1) est soit composée, soit issue d'une restitution !
   !  sur base physique d'une autre base, mais en coordonnées généralisées.              !
   !                                                                                     !
   !  Pour pouvoir mettre à jour les paramètres modaux, des informations sur les         !
   !  matrices de rigidité et de masse sont nécessaires.                                 !
   !                                                                                     !
   !  À défaut de trouver l'information exacte pour la matrice de rigidité sous le       !
   !  mot-clé RAIDE, on utilisera la matrice matAs_K1 référencée dans la base.           !
   !                                                                                     !
   !  Conseil :                                                                          !
   !                                                                                     !
   !  Si la matrice matAs_K1 ne correspond pas à la matrice de rigidité du système. Il   !
   !  faudra renseigner le mot-clé RAIDE pour forcer l'utilisation de la bonne matrice.  !
   !                                                                                     !
   !                                                                                     !
   ! Ceci est une alarme. Si vous ne comprenez pas le sens de cette                      !
   ! alarme, vous pouvez obtenir des résultats inattendus !                              !
   !-------------------------------------------------------------------------------------!
   
   
   !-------------------------------------------------------------------------------------!
   ! <A> <ALGELINE_1>                                                                    !
   !                                                                                     !
   !  La base modale à normer (modStaR1) est soit composée, soit issue d'une restitution !
   !  sur base physique d'une autre base, mais en coordonnées généralisées.              !
   !                                                                                     !
   !  Pour pouvoir mettre à jour les paramètres modaux, des informations sur les         !
   !  matrices de rigidité et de masse sont nécessaires.                                 !
   !                                                                                     !
   !  À défaut de trouver l'information exacte pour la matrice de masse sous le          !
   !  mot-clé MASSE, on utilisera la matrice matAs_M1 référencée dans la base.           !
   !                                                                                     !
   !  Conseil :                                                                          !
   !                                                                                     !
   !  Si la matrice matAs_M1 ne correspond pas à la matrice de masse du système. Il      !
   !  faudra renseigner le mot-clé MASSE pour forcer l'utilisation de la bonne matrice.  !
   !                                                                                     !
   !                                                                                     !
   ! Ceci est une alarme. Si vous ne comprenez pas le sens de cette                      !
   ! alarme, vous pouvez obtenir des résultats inattendus !                              !
   !-------------------------------------------------------------------------------------!
   
 Normalisation des modes : modStaR1


 NUME_ORDRE                    norme
     1                            TRAN
     2                            TRAN
     3                            TRAN
     4                            TRAN
     5                            TRAN
     6                            TRAN
     7                            TRAN
     8                            TRAN
     9                            TRAN
    10                            TRAN
    11                            TRAN
    12                            TRAN
    13                            TRAN
    14                            TRAN
    15                            TRAN
    16                            TRAN
    17                            TRAN
    18                            TRAN
    19                            TRAN
    20                            TRAN
  Le nombre total de DDL est               :     112761
  Le nombre de DDL de Lagrange est         :     112761
  Le nombre de DDL bloqués cinématiquement :     112761
  Le nombre de DDL actifs est              :     112761
  # Mémoire (Mo) :  4147.43 /   855.67 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0073   user+syst:        0.96s (syst:        0.03s, elaps:        0.98s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt546
  # ------------------------------------------------------------------------------------------
  # Commande No :  0074            Concept de type : mode_meca
  # ------------------------------------------------------------------------------------------
  modStaR2 = NORM_MODE(reuse=modStaR2,
                       MODE=modStaR2,
                       NORME='TRAN',
                       INFO=1,)

   
   !-------------------------------------------------------------------------------------!
   ! <A> <ALGELINE_1>                                                                    !
   !                                                                                     !
   !  La base modale à normer (modStaR2) est soit composée, soit issue d'une restitution !
   !  sur base physique d'une autre base, mais en coordonnées généralisées.              !
   !                                                                                     !
   !  Pour pouvoir mettre à jour les paramètres modaux, des informations sur les         !
   !  matrices de rigidité et de masse sont nécessaires.                                 !
   !                                                                                     !
   !  À défaut de trouver l'information exacte pour la matrice de rigidité sous le       !
   !  mot-clé RAIDE, on utilisera la matrice matAs_K1 référencée dans la base.           !
   !                                                                                     !
   !  Conseil :                                                                          !
   !                                                                                     !
   !  Si la matrice matAs_K1 ne correspond pas à la matrice de rigidité du système. Il   !
   !  faudra renseigner le mot-clé RAIDE pour forcer l'utilisation de la bonne matrice.  !
   !                                                                                     !
   !                                                                                     !
   ! Ceci est une alarme. Si vous ne comprenez pas le sens de cette                      !
   ! alarme, vous pouvez obtenir des résultats inattendus !                              !
   !-------------------------------------------------------------------------------------!
   
   
   !-------------------------------------------------------------------------------------!
   ! <A> <ALGELINE_1>                                                                    !
   !                                                                                     !
   !  La base modale à normer (modStaR2) est soit composée, soit issue d'une restitution !
   !  sur base physique d'une autre base, mais en coordonnées généralisées.              !
   !                                                                                     !
   !  Pour pouvoir mettre à jour les paramètres modaux, des informations sur les         !
   !  matrices de rigidité et de masse sont nécessaires.                                 !
   !                                                                                     !
   !  À défaut de trouver l'information exacte pour la matrice de masse sous le          !
   !  mot-clé MASSE, on utilisera la matrice matAs_M1 référencée dans la base.           !
   !                                                                                     !
   !  Conseil :                                                                          !
   !                                                                                     !
   !  Si la matrice matAs_M1 ne correspond pas à la matrice de masse du système. Il      !
   !  faudra renseigner le mot-clé MASSE pour forcer l'utilisation de la bonne matrice.  !
   !                                                                                     !
   !                                                                                     !
   ! Ceci est une alarme. Si vous ne comprenez pas le sens de cette                      !
   ! alarme, vous pouvez obtenir des résultats inattendus !                              !
   !-------------------------------------------------------------------------------------!
   
 Normalisation des modes : modStaR2


 NUME_ORDRE                    norme
     1                            TRAN
     2                            TRAN
     3                            TRAN
     4                            TRAN
     5                            TRAN
     6                            TRAN
     7                            TRAN
     8                            TRAN
     9                            TRAN
    10                            TRAN
    11                            TRAN
    12                            TRAN
    13                            TRAN
    14                            TRAN
    15                            TRAN
    16                            TRAN
    17                            TRAN
    18                            TRAN
    19                            TRAN
    20                            TRAN
  Le nombre total de DDL est               :     112761
  Le nombre de DDL de Lagrange est         :     112761
  Le nombre de DDL bloqués cinématiquement :     112761
  Le nombre de DDL actifs est              :     112761
  # Mémoire (Mo) :  4147.43 /   855.67 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0074   user+syst:        0.95s (syst:        0.01s, elaps:        0.96s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt547
  # ------------------------------------------------------------------------------------------
  # Commande No :  0075            Concept de type : mode_meca
  # ------------------------------------------------------------------------------------------
  modStaS = NORM_MODE(reuse=modStaS,
                      MODE=modStaS,
                      NORME='TRAN',
                      INFO=1,)

   
   !------------------------------------------------------------------------------------!
   ! <A> <ALGELINE_1>                                                                   !
   !                                                                                    !
   !  La base modale à normer (modStaS) est soit composée, soit issue d'une restitution !
   !  sur base physique d'une autre base, mais en coordonnées généralisées.             !
   !                                                                                    !
   !  Pour pouvoir mettre à jour les paramètres modaux, des informations sur les        !
   !  matrices de rigidité et de masse sont nécessaires.                                !
   !                                                                                    !
   !  À défaut de trouver l'information exacte pour la matrice de rigidité sous le      !
   !  mot-clé RAIDE, on utilisera la matrice matAs_K1 référencée dans la base.          !
   !                                                                                    !
   !  Conseil :                                                                         !
   !                                                                                    !
   !  Si la matrice matAs_K1 ne correspond pas à la matrice de rigidité du système. Il  !
   !  faudra renseigner le mot-clé RAIDE pour forcer l'utilisation de la bonne matrice. !
   !                                                                                    !
   !                                                                                    !
   ! Ceci est une alarme. Si vous ne comprenez pas le sens de cette                     !
   ! alarme, vous pouvez obtenir des résultats inattendus !                             !
   !------------------------------------------------------------------------------------!
   
   
   !------------------------------------------------------------------------------------!
   ! <A> <ALGELINE_1>                                                                   !
   !                                                                                    !
   !  La base modale à normer (modStaS) est soit composée, soit issue d'une restitution !
   !  sur base physique d'une autre base, mais en coordonnées généralisées.             !
   !                                                                                    !
   !  Pour pouvoir mettre à jour les paramètres modaux, des informations sur les        !
   !  matrices de rigidité et de masse sont nécessaires.                                !
   !                                                                                    !
   !  À défaut de trouver l'information exacte pour la matrice de masse sous le         !
   !  mot-clé MASSE, on utilisera la matrice matAs_M1 référencée dans la base.          !
   !                                                                                    !
   !  Conseil :                                                                         !
   !                                                                                    !
   !  Si la matrice matAs_M1 ne correspond pas à la matrice de masse du système. Il     !
   !  faudra renseigner le mot-clé MASSE pour forcer l'utilisation de la bonne matrice. !
   !                                                                                    !
   !                                                                                    !
   ! Ceci est une alarme. Si vous ne comprenez pas le sens de cette                     !
   ! alarme, vous pouvez obtenir des résultats inattendus !                             !
   !------------------------------------------------------------------------------------!
   
 Normalisation des modes : modStaS


 NUME_ORDRE                    norme
     1                            TRAN
     2                            TRAN
     3                            TRAN
     4                            TRAN
     5                            TRAN
     6                            TRAN
     7                            TRAN
     8                            TRAN
     9                            TRAN
    10                            TRAN
    11                            TRAN
    12                            TRAN
    13                            TRAN
    14                            TRAN
    15                            TRAN
    16                            TRAN
    17                            TRAN
    18                            TRAN
    19                            TRAN
    20                            TRAN
  Le nombre total de DDL est               :     112761
  Le nombre de DDL de Lagrange est         :     112761
  Le nombre de DDL bloqués cinématiquement :     112761
  Le nombre de DDL actifs est              :     112761
  # Mémoire (Mo) :  4147.43 /   855.67 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0075   user+syst:        0.95s (syst:        0.03s, elaps:        0.95s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt561
  # ------------------------------------------------------------------------------------------
  # Commande No :  0076            Concept de type : interf_dyna_clas
  # ------------------------------------------------------------------------------------------
  Lint = DEFI_INTERF_DYNA(NUME_DDL=num1,
                          INTERFACE=(_F(NOM='I_slpSym',
                                        TYPE='CRAIGB',
                                        GROUP_NO=('slpSym', ),),
                                     _F(NOM='I_raiRBk',
                                        TYPE='CRAIGB',
                                        GROUP_NO=('railBk', ),),
                                     _F(NOM='I_raiRFt',
                                        TYPE='CRAIGB',
                                        GROUP_NO=('railFt', ),),
                                     ),
                          FREQ=1.0,
                          INFO=1,)

  # Mémoire (Mo) :  4147.43 /   855.67 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0076   user+syst:        0.06s (syst:        0.00s, elaps:        0.07s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt569
  # ------------------------------------------------------------------------------------------
  # Commande No :  0077            Concept de type : mode_meca
  # ------------------------------------------------------------------------------------------
  bamo1 = DEFI_BASE_MODALE(RITZ=(_F(MODE_MECA=(modes_1, ),),
                                 _F(MODE_INTF=modStaR1,),
                                 ),
                           INTERF_DYNA=Lint,
                           NUME_REF=num1,
                           ORTHO='NON',
                           SOLVEUR=_F(RENUM='AUTO',
                                      NPREC=8,
                                      ELIM_LAGR='LAGR2',
                                      STOP_SINGULIER='NON',
                                      TYPE_RESOL='AUTO',
                                      ACCELERATION='AUTO',
                                      LOW_RANK_SEUIL=0.0,
                                      PRETRAITEMENTS='AUTO',
                                      POSTTRAITEMENTS='AUTO',
                                      PCENT_PIVOT=20,
                                      RESI_RELA=-1.0,
                                      GESTION_MEMOIRE='AUTO',
                                      METHODE='MUMPS',),
                           INFO=1,)


 MODE_MECA : modes_1
 Nombre de modes propres calculés insuffisant
 par rapport au nombre demandé sous NMAX_MODE (9999).
 Nombre de modes propres limité à : 2.
  # Mémoire (Mo) :  4147.43 /   880.07 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0077   user+syst:        0.04s (syst:        0.01s, elaps:        0.07s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt574
  # ------------------------------------------------------------------------------------------
  # Commande No :  0078            Concept de type : mode_meca
  # ------------------------------------------------------------------------------------------
  bamo1 = DEFI_BASE_MODALE(reuse=bamo1,
                           RITZ=(_F(BASE_MODALE=bamo1,),
                                 _F(MODE_INTF=modStaR2,),
                                 ),
                           NUME_REF=num1,
                           ORTHO='NON',
                           SOLVEUR=_F(RENUM='AUTO',
                                      NPREC=8,
                                      ELIM_LAGR='LAGR2',
                                      STOP_SINGULIER='NON',
                                      TYPE_RESOL='AUTO',
                                      ACCELERATION='AUTO',
                                      LOW_RANK_SEUIL=0.0,
                                      PRETRAITEMENTS='AUTO',
                                      POSTTRAITEMENTS='AUTO',
                                      PCENT_PIVOT=20,
                                      RESI_RELA=-1.0,
                                      GESTION_MEMOIRE='AUTO',
                                      METHODE='MUMPS',),
                           INFO=1,)

  # Mémoire (Mo) :  4147.43 /   897.34 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0078   user+syst:        0.06s (syst:        0.01s, elaps:        0.06s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt579
  # ------------------------------------------------------------------------------------------
  # Commande No :  0079            Concept de type : mode_meca
  # ------------------------------------------------------------------------------------------
  bamo1 = DEFI_BASE_MODALE(reuse=bamo1,
                           RITZ=(_F(BASE_MODALE=bamo1,),
                                 _F(MODE_INTF=modStaS,),
                                 ),
                           NUME_REF=num1,
                           ORTHO='NON',
                           SOLVEUR=_F(RENUM='AUTO',
                                      NPREC=8,
                                      ELIM_LAGR='LAGR2',
                                      STOP_SINGULIER='NON',
                                      TYPE_RESOL='AUTO',
                                      ACCELERATION='AUTO',
                                      LOW_RANK_SEUIL=0.0,
                                      PRETRAITEMENTS='AUTO',
                                      POSTTRAITEMENTS='AUTO',
                                      PCENT_PIVOT=20,
                                      RESI_RELA=-1.0,
                                      GESTION_MEMOIRE='AUTO',
                                      METHODE='MUMPS',),
                           INFO=1,)

  # Mémoire (Mo) :  4147.43 /   914.60 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0079   user+syst:        0.06s (syst:        0.00s, elaps:        0.06s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt591
  # ------------------------------------------------------------------------------------------
  # Commande No :  0080            Concept de type : macr_elem_dyna
  # ------------------------------------------------------------------------------------------
  macroEl1 = MACR_ELEM_DYNA(BASE_MODALE=bamo1,
                            MATR_RIGI=matAs_K1,
                            MATR_MASS=matAs_M1,
                            MATR_AMOR=matAs_A1,)


  Le nombre de modes dynamiques est 3,
  ce n'est pas un multiple du nombre de composante.
  # Mémoire (Mo) :  4147.43 /   942.86 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0080   user+syst:        3.81s (syst:        0.15s, elaps:        3.93s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt617
  # ------------------------------------------------------------------------------------------
  # Commande No :  0081            Concept de type : modele_gene
  # ------------------------------------------------------------------------------------------
  modeGene = DEFI_MODELE_GENE(SOUS_STRUC=(_F(NOM='elem0R',
                                             MACR_ELEM_DYNA=macroEl1,
                                             ANGL_NAUT=(0.0, 0.0, 0.0),
                                             TRANS=(0, 0.0, 0.0),),
                                          _F(NOM='elem0L',
                                             MACR_ELEM_DYNA=macroEl1,
                                             ANGL_NAUT=(0.0, 180.0, 0.0),
                                             TRANS=(0, 0.0, 0.0),),
                                          _F(NOM='elem1R',
                                             MACR_ELEM_DYNA=macroEl1,
                                             ANGL_NAUT=(0.0, 0.0, 0.0),
                                             TRANS=(600, 0.0, 0.0),),
                                          _F(NOM='elem1L',
                                             MACR_ELEM_DYNA=macroEl1,
                                             ANGL_NAUT=(0.0, 180.0, 0.0),
                                             TRANS=(600, 0.0, 0.0),),
                                          _F(NOM='elem2R',
                                             MACR_ELEM_DYNA=macroEl1,
                                             ANGL_NAUT=(0.0, 0.0, 0.0),
                                             TRANS=(1200, 0.0, 0.0),),
                                          _F(NOM='elem2L',
                                             MACR_ELEM_DYNA=macroEl1,
                                             ANGL_NAUT=(0.0, 180.0, 0.0),
                                             TRANS=(1200, 0.0, 0.0),),
                                          ),
                              LIAISON=(_F(SOUS_STRUC_1='elem0R',
                                          INTERFACE_1='I_slpSym',
                                          SOUS_STRUC_2='elem0L',
                                          INTERFACE_2='I_slpSym',
                                          OPTION='REDUIT',),
                                       _F(SOUS_STRUC_1='elem0R',
                                          INTERFACE_1='I_raiRFt',
                                          SOUS_STRUC_2='elem1R',
                                          INTERFACE_2='I_raiRBk',
                                          OPTION='REDUIT',),
                                       _F(SOUS_STRUC_1='elem0L',
                                          INTERFACE_1='I_raiRBk',
                                          SOUS_STRUC_2='elem1L',
                                          INTERFACE_2='I_raiRFt',
                                          OPTION='REDUIT',),
                                       _F(SOUS_STRUC_1='elem1R',
                                          INTERFACE_1='I_slpSym',
                                          SOUS_STRUC_2='elem1L',
                                          INTERFACE_2='I_slpSym',
                                          OPTION='REDUIT',),
                                       _F(SOUS_STRUC_1='elem1R',
                                          INTERFACE_1='I_raiRFt',
                                          SOUS_STRUC_2='elem2R',
                                          INTERFACE_2='I_raiRBk',
                                          OPTION='REDUIT',),
                                       _F(SOUS_STRUC_1='elem1L',
                                          INTERFACE_1='I_raiRBk',
                                          SOUS_STRUC_2='elem2L',
                                          INTERFACE_2='I_raiRFt',
                                          OPTION='REDUIT',),
                                       _F(SOUS_STRUC_1='elem2R',
                                          INTERFACE_1='I_slpSym',
                                          SOUS_STRUC_2='elem2L',
                                          INTERFACE_2='I_slpSym',
                                          OPTION='REDUIT',),
                                       ),
                              VERIF=_F(STOP_ERREUR='OUI',
                                       PRECISION=1.E-06,
                                       CRITERE='RELATIF',),
                              INFO=1,)

  # Mémoire (Mo) :  4147.43 /   942.86 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0081   user+syst:        0.25s (syst:        0.00s, elaps:        0.24s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt618
  # ------------------------------------------------------------------------------------------
  # Commande No :  0082            Concept de type : nume_ddl_gene
  # ------------------------------------------------------------------------------------------
  numGene = NUME_DDL_GENE(MODELE_GENE=modeGene,
                          STOCKAGE='LIGN_CIEL',
                          METHODE='CLASSIQUE',)

 +++ NOMBRE DE SOUS-STRUCTURES:                     6
 +++ NOMBRE DE LIAISONS:                     7
 +++ NOMBRE TOTAL D'EQUATIONS:                   652
 +++ DONT NOMBRE D'EQUATIONS STRUCTURE:                   372
 +++ DONT NOMBRE D'EQUATIONS LIAISON:                   280
 +++ HAUTEUR MAXIMUM D'UNE COLONNE:                   326
 +++ HAUTEUR MOYENNE D'UNE COLONNE:                   119
 +++ NOMBRE DE BLOCS DU STOCKAGE:                     1
 +++ NOMBRE DE TERMES DU STOCKAGE:                 78098
  # Mémoire (Mo) :  4147.43 /   942.86 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0082   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt624
  # ------------------------------------------------------------------------------------------
  # Commande No :  0083            Concept de type : matr_asse_gene_r
  # ------------------------------------------------------------------------------------------
  masGene = ASSE_MATR_GENE(NUME_DDL_GENE=numGene,
                           OPTION='MASS_GENE',
                           METHODE='CLASSIQUE',)


 coefficient de conditionnement des multiplicateurs de Lagrange :  1.000000
  # Mémoire (Mo) :  4147.43 /   943.46 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0083   user+syst:        0.01s (syst:        0.00s, elaps:        0.02s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt627
  # ------------------------------------------------------------------------------------------
  # Commande No :  0084            Concept de type : matr_asse_gene_r
  # ------------------------------------------------------------------------------------------
  rigGene = ASSE_MATR_GENE(NUME_DDL_GENE=numGene,
                           OPTION='RIGI_GENE',
                           METHODE='CLASSIQUE',)


 coefficient de conditionnement des multiplicateurs de Lagrange :  55432.422893
  # Mémoire (Mo) :  4147.43 /   944.06 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0084   user+syst:        0.00s (syst:        0.00s, elaps:        0.01s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt630
  # ------------------------------------------------------------------------------------------
  # Commande No :  0085            Concept de type : matr_asse_gene_r
  # ------------------------------------------------------------------------------------------
  amoGene = ASSE_MATR_GENE(NUME_DDL_GENE=numGene,
                           OPTION='AMOR_GENE',
                           METHODE='CLASSIQUE',)


 coefficient de conditionnement des multiplicateurs de Lagrange :  1.000000
  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0085   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt632
  # ------------------------------------------------------------------------------------------
  # Commande No :  0086            Concept de type : vect_asse_gene
  # ------------------------------------------------------------------------------------------
  vectGe10 = ASSE_VECT_GENE(NUME_DDL_GENE=numGene,
                            CHAR_SOUS_STRUC=_F(SOUS_STRUC='elem2R',
                                               VECT_ASSE=vectAs10,),
                            METHODE='CLASSIQUE',)

  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0086   user+syst:        0.01s (syst:        0.00s, elaps:        0.02s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt633
  # ------------------------------------------------------------------------------------------
  # Commande No :  0087            Concept de type : vect_asse_gene
  # ------------------------------------------------------------------------------------------
  vectGe45 = ASSE_VECT_GENE(NUME_DDL_GENE=numGene,
                            CHAR_SOUS_STRUC=_F(SOUS_STRUC='elem2R',
                                               VECT_ASSE=vectAs45,),
                            METHODE='CLASSIQUE',)

  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0087   user+syst:        0.01s (syst:        0.00s, elaps:        0.01s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt654
  # ------------------------------------------------------------------------------------------
  # Commande No :  0088            Concept de type : harm_gene
  # ------------------------------------------------------------------------------------------
  harmGe10 = DYNA_VIBRA(BASE_CALCUL='GENE',
                        TYPE_CALCUL='HARM',
                        MATR_MASS=masGene,
                        MATR_RIGI=rigGene,
                        MATR_AMOR=amoGene,
                        FREQ=(1000.0, 1500.0),
                        TOUT_CHAM='OUI',
                        EXCIT=_F(VECT_ASSE_GENE=vectGe10,
                                 COEF_MULT=1.0,
                                 PHAS_DEG=0.0,
                                 PUIS_PULS=0,),
                        SOLVEUR=_F(METHODE='LDLT',
                                   RENUM='RCMK',
                                   NPREC=8,
                                   ELIM_LAGR='NON',
                                   STOP_SINGULIER='OUI',),
                        )


--------------------------------------------------------------------------------------

D Y N A _ V I B R A
=====================================================================================
                     Calcul HARMonique sur base GENEralisee
=====================================================================================

Modèle de sous-structuration dynamique
--------------------------------------------------------------------------------------
    >> modèle généralisé : bamo1
    >> numérotation généralisée : numGene
    >> nombre de modes    : 652
    >> fréquence minimale : 0.00000e+00
    >> fréquence maximale : 1.67293e+03

Matrices dynamiques pour la résolution
--------------------------------------------------------------------------------------
    >> matrice de masse        : masGene
    >> matrice de rigidité     : rigGene
    >> matrice d'amortissement : amoGene

Résolution
--------------------------------------------------------------------------------------
    >> fréquence minimale : 1.00000e+03
    >> fréquence maximale : 1.50000e+03
    >> nombre de fréquences calculées : 2

Archivage
--------------------------------------------------------------------------------------
    >> fréquences archivées : toutes (2 fréquences)
    >> champs archivés      : DEPL  VITE  ACCE

======================================================================================

Avancement du calcul
--------------------------------------------------------------------------------------
[ 50%] Fréquence calculée : 1.00000e+03, archivée au numéro d'ordre :     1
[100%] Fréquence calculée : 1.50000e+03, archivée au numéro d'ordre :     2

======================================================================================
                                                                        Fin du calcul

#1      Resolution des systemes lineaires                 CPU (USER+SYST/SYST/ELAPS):      0.01      0.00      0.02
  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0088   user+syst:        0.02s (syst:        0.00s, elaps:        0.05s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt668
  # ------------------------------------------------------------------------------------------
  # Commande No :  0089            Concept de type : harm_gene
  # ------------------------------------------------------------------------------------------
  harmGe45 = DYNA_VIBRA(BASE_CALCUL='GENE',
                        TYPE_CALCUL='HARM',
                        MATR_MASS=masGene,
                        MATR_RIGI=rigGene,
                        MATR_AMOR=amoGene,
                        FREQ=(1000.0, 1500.0),
                        TOUT_CHAM='OUI',
                        EXCIT=_F(VECT_ASSE_GENE=vectGe45,
                                 COEF_MULT=1.0,
                                 PHAS_DEG=0.0,
                                 PUIS_PULS=0,),
                        SOLVEUR=_F(METHODE='LDLT',
                                   RENUM='RCMK',
                                   NPREC=8,
                                   ELIM_LAGR='NON',
                                   STOP_SINGULIER='OUI',),
                        )


--------------------------------------------------------------------------------------

D Y N A _ V I B R A
=====================================================================================
                     Calcul HARMonique sur base GENEralisee
=====================================================================================

Modèle de sous-structuration dynamique
--------------------------------------------------------------------------------------
    >> modèle généralisé : bamo1
    >> numérotation généralisée : numGene
    >> nombre de modes    : 652
    >> fréquence minimale : 0.00000e+00
    >> fréquence maximale : 1.67293e+03

Matrices dynamiques pour la résolution
--------------------------------------------------------------------------------------
    >> matrice de masse        : masGene
    >> matrice de rigidité     : rigGene
    >> matrice d'amortissement : amoGene

Résolution
--------------------------------------------------------------------------------------
    >> fréquence minimale : 1.00000e+03
    >> fréquence maximale : 1.50000e+03
    >> nombre de fréquences calculées : 2

Archivage
--------------------------------------------------------------------------------------
    >> fréquences archivées : toutes (2 fréquences)
    >> champs archivés      : DEPL  VITE  ACCE

======================================================================================

Avancement du calcul
--------------------------------------------------------------------------------------
[ 50%] Fréquence calculée : 1.00000e+03, archivée au numéro d'ordre :     1
[100%] Fréquence calculée : 1.50000e+03, archivée au numéro d'ordre :     2

======================================================================================
                                                                        Fin du calcul

#1      Resolution des systemes lineaires                 CPU (USER+SYST/SYST/ELAPS):      0.02      0.01      0.02
  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0089   user+syst:        0.03s (syst:        0.01s, elaps:        0.05s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt683
  # ------------------------------------------------------------------------------------------
  # Commande No :  0090            Concept de type : vect_asse_gene
  # ------------------------------------------------------------------------------------------
  dispGene = RECU_GENE(RESU_GENE=harmGe10,
                       FREQ=1000.0,
                       NOM_CHAM='DEPL',)

  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0090   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt685
  # ------------------------------------------------------------------------------------------
  # Commande No :  0091            Concept de type : -
  # ------------------------------------------------------------------------------------------
  IMPR_GENE(UNITE=8,
            GENE=_F(RESU_GENE=dispGene,
                    PRECISION=1.E-06,
                    CRITERE='RELATIF',),
            FORMAT='RESULTAT',)

  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0091   user+syst:        0.00s (syst:        0.00s, elaps:        0.01s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt687
  # ------------------------------------------------------------------------------------------
  # Commande No :  0092            Concept de type : -
  # ------------------------------------------------------------------------------------------
  DETRUIRE(CONCEPT=_F(NOM=(dispGene, ),),
           INFO=1,)

  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0092   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt683
  # ------------------------------------------------------------------------------------------
  # Commande No :  0093            Concept de type : vect_asse_gene
  # ------------------------------------------------------------------------------------------
  dispGene = RECU_GENE(RESU_GENE=harmGe10,
                       FREQ=1500.0,
                       NOM_CHAM='DEPL',)

  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0093   user+syst:        0.00s (syst:        0.00s, elaps:        0.01s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt685
  # ------------------------------------------------------------------------------------------
  # Commande No :  0094            Concept de type : -
  # ------------------------------------------------------------------------------------------
  IMPR_GENE(UNITE=8,
            GENE=_F(RESU_GENE=dispGene,
                    PRECISION=1.E-06,
                    CRITERE='RELATIF',),
            FORMAT='RESULTAT',)

  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0094   user+syst:        0.01s (syst:        0.00s, elaps:        0.01s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt687
  # ------------------------------------------------------------------------------------------
  # Commande No :  0095            Concept de type : -
  # ------------------------------------------------------------------------------------------
  DETRUIRE(CONCEPT=_F(NOM=(dispGene, ),),
           INFO=1,)

  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0095   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------
  Lecture des blocs du fichier 'fort.30'...
  Lecture des blocs du fichier 'fort.31'...
  Lecture des blocs du fichier 'fort.32'...
  Lecture des blocs du fichier 'fort.33'...
  Lecture des blocs du fichier 'fort.36'...
  Lecture des blocs du fichier 'fort.37'...
[1000. 1500.]
[0.016 0.016]
[1000. 1500.]
[0.001 0.001]
[1000. 1500.]
[0.15923022 0.15923022]
[1000. 1500.]
[0.15923022 0.15923022]
Optimized frequency bands : 
[0.0, 2000.0]
TIME FOR INFO_MODE + CALC_MODES     132.85637617111206
TIME FOR INTF MODES     57.265159130096436
TIME FOR BAMO     0.2728748321533203
TIME FOR MACROEL     3.9375100135803223
TIME FOR MODEGENE     0.3350560665130615
TIME FOR HARMO     0.10621070861816406
1 0 0 0.04114760407579158
2 1 0 0.0005489504583962382
3 2 0 0.035293064189397046
4 3 0 0.022002409521397443
5 4 0 0.15447485280135403
6 5 0 0.033747769741125117
7 6 0 0.012328858446773124
8 7 0 0.010181979449129722
9 8 0 0.0016594034220288327
10 9 0 0.01718074692836141
11 10 0 0.0001961846582422795
12 11 0 0.00925728792623412
13 12 0 0.0006022109588192496
14 13 0 0.00012809483763860316
15 14 0 7.662797384610922e-05
16 15 0 3.0252454402307276e-05
17 16 0 0.0008551509079501699
18 17 0 0.00015258462007453438
19 18 0 0.00028331779468999117
20 19 0 1.78780243699241e-05
21 20 0 2.3653695390995463e-06
22 21 0 1.4938149519498726e-06
23 22 0 0.005372791795866
24 23 0 0.013216320440440297
25 24 0 0.1538642134483844
26 25 0 0.0172562015314969
27 26 0 0.012626041549362374
28 27 0 0.007664145256745855
29 28 0 0.0024171242701708576
30 29 0 0.020970230924813392
31 30 0 0.008268230337926006
32 31 0 0.011656011008681315
33 32 0 0.00021496753561875336
34 33 0 0.0019286419845362694
35 34 0 0.0008420149836321204
36 35 0 0.0006403085222901848
37 36 0 0.0006173286331971002
38 37 0 4.434817686466942e-05
39 38 0 0.00023223849328007622
40 39 0 0.00010177438047465581
41 40 0 8.846663710133895e-05
42 41 0 2.0111698814495234e-05
43 42 0 1.126006227780291e-06
44 43 0 9.937836683629894e-06
45 44 0 5.84834635316685e-07
46 45 0 3.388682848650195e-06
47 46 0 7.626310931833294e-08
48 47 0 4.459024467885325e-06
49 48 0 1.6724952480052074e-07
50 49 0 2.5433572313971158e-06
51 50 0 2.4903100916954096e-07
52 51 0 3.312215683858767e-08
53 52 0 5.394000390526497e-07
54 53 0 8.200805071271967e-07
55 54 0 2.814590962761907e-07
56 55 0 3.909854854403165e-08
57 56 0 8.805354495437705e-08
58 57 0 2.1601750227990785e-07
59 58 0 3.276736112077993e-08
60 59 0 6.123370992100675e-07
61 60 0 3.146817512614928e-08
62 61 0 3.6910106488060965e-08
63 0 1 2.9541659209496e-07
64 1 1 5.860622622699741e-08
65 2 1 1.284178961640861e-07
66 3 1 5.092407578788249e-07
67 4 1 2.2922485617620093e-08
68 5 1 6.844309613459928e-08
69 6 1 4.3252437881465134e-08
70 7 1 2.4415449230558916e-09
71 8 1 1.0511367917892515e-07
72 9 1 7.232352267153474e-09
73 10 1 1.297312816941234e-07
74 11 1 3.629823053734851e-09
75 12 1 5.633009488523874e-11
76 13 1 3.317584011611462e-08
77 14 1 1.146483335277491e-10
78 15 1 5.48202574606322e-09
79 16 1 2.626370229788824e-10
80 17 1 2.331339550751885e-11
81 18 1 7.982641118132519e-11
82 19 1 1.8856486907427906e-09
83 20 1 1.786690112246665e-11
84 21 1 3.7419471672646583e-10
85 22 1 2.9530096251282355e-07
86 23 1 2.417762900885858e-07
87 24 1 4.395796587479907e-09
88 25 1 2.888121885326172e-07
89 26 1 1.0835316908318834e-08
90 27 1 3.034968571122278e-09
91 28 1 4.848177001141769e-08
92 29 1 3.320694228858779e-09
93 30 1 1.8861797217656648e-09
94 31 1 1.1555088199021633e-09
95 32 1 2.4584583594195774e-11
96 33 1 8.136665044230345e-10
97 34 1 5.039742462715729e-11
98 35 1 3.2982545044917317e-10
99 36 1 1.1103339728020618e-10
100 37 1 6.941813657056778e-12
101 38 1 3.4431950677206776e-11
102 39 1 1.0879912757775222e-10
103 40 1 9.80216211153075e-13
104 41 1 3.672526709092801e-11
105 42 1 1.5755782237939696e-06
106 43 1 7.540243807338063e-06
107 44 1 5.766894262180381e-07
108 45 1 8.289287372512791e-06
109 46 1 7.188799091086076e-07
110 47 1 2.6190815864705323e-06
111 48 1 2.506199236934087e-07
112 49 1 2.2091683767879715e-06
113 50 1 1.819309800183575e-07
114 51 1 9.888210994780603e-08
115 52 1 3.251164935234754e-07
116 53 1 6.848511279981146e-07
117 54 1 3.047446823894389e-07
118 55 1 2.3187056089120068e-08
119 56 1 5.7519852062831317e-08
120 57 1 8.700603713909743e-08
121 58 1 2.1418000462536764e-08
122 59 1 2.1922528890529486e-07
123 60 1 3.4094485696370317e-08
124 61 1 1.2523055189054308e-08
125 0 2 0.019237360543821077
126 1 2 0.0008814639508028675
127 2 2 0.04840855712636042
128 3 2 0.0010398376416849893
129 4 2 0.16679263641986716
130 5 2 0.023168077172844966
131 6 2 0.02791000464005873
132 7 2 0.00947124962612643
133 8 2 0.001794817583923851
134 9 2 0.05248095265189076
135 10 2 0.010260395063910745
136 11 2 0.02354945318414846
137 12 2 0.00019229729821554955
138 13 2 0.0013669532959015426
139 14 2 0.001087690981119178
140 15 2 0.0005710465952732404
141 16 2 0.0008132907284852077
142 17 2 0.00025768130119799146
143 18 2 0.00036594692143123705
144 19 2 2.5427366937551754e-05
145 20 2 6.459184901657484e-05
146 21 2 7.189902027249329e-05
147 22 2 0.05703236849920315
148 23 2 0.0014598416722374382
149 24 2 0.4213240635418418
150 25 2 0.01130606713244535
151 26 2 0.02378739904613365
152 27 2 0.004914543414583292
153 28 2 0.0049491356150701705
154 29 2 0.1356642514750662
155 30 2 0.0023999147430458856
156 31 2 0.06506609727159683
157 32 2 0.0015063030050839704
158 33 2 0.0005201337182249538
159 34 2 0.0012003871179252967
160 35 2 5.81710766833484e-05
161 36 2 0.011449383249397498
162 37 2 0.002482620467820444
163 38 2 0.0034836994205362333
164 39 2 0.00018538179227068122
165 40 2 0.0004093369974926405
166 41 2 7.656221841380317e-05
167 42 2 2.8076406809454804e-06
168 43 2 1.0819385924330458e-05
169 44 2 4.0321264373528764e-06
170 45 2 1.6842758687460792e-06
171 46 2 1.1409685937066803e-06
172 47 2 9.10405644515125e-06
173 48 2 8.625822598338086e-07
174 49 2 4.149786434516841e-06
175 50 2 6.825247484135648e-07
176 51 2 1.273997977532539e-07
177 52 2 7.619719464140396e-07
178 53 2 1.107477550993247e-06
179 54 2 5.12970105755774e-07
180 55 2 2.2471968187386258e-07
181 56 2 2.1660227807897126e-07
182 57 2 3.855603226274846e-07
183 58 2 1.4559384867720203e-07
184 59 2 1.1311625142308244e-06
185 60 2 2.650642323437849e-07
186 61 2 1.3250327968559872e-07
187 0 3 1.613333715788522e-07
188 1 3 5.725495720415832e-08
189 2 3 4.3742634225661354e-07
190 3 3 3.9279345831238073e-07
191 4 3 4.508210603997999e-08
192 5 3 8.423075321312282e-08
193 6 3 1.9640417931398509e-07
194 7 3 1.8545655489460662e-10
195 8 3 9.980876356197386e-08
196 9 3 8.146552361612855e-09
197 10 3 2.4648078658183483e-08
198 11 3 4.232906072806247e-09
199 12 3 1.9369783477623078e-10
200 13 3 1.5270984398197782e-08
201 14 3 3.3680027163439167e-10
202 15 3 5.012487999746233e-09
203 16 3 5.951313826349606e-10
204 17 3 1.1938820407293175e-10
205 18 3 1.6049142607940152e-10
206 19 3 2.4109378719494205e-09
207 20 3 6.06542021525302e-11
208 21 3 9.589143820738115e-10
209 22 3 4.138677077376296e-07
210 23 3 3.535484927220027e-07
211 24 3 2.0897943123819625e-08
212 25 3 2.0319158045795109e-07
213 26 3 1.9257666931640498e-07
214 27 3 2.65958885696643e-09
215 28 3 3.535349511222335e-08
216 29 3 2.7742849434302888e-09
217 30 3 7.369896791522932e-08
218 31 3 1.7359400525576943e-09
219 32 3 5.5279942189730987e-11
220 33 3 8.260311405195327e-09
221 34 3 1.7650248327377722e-10
222 35 3 3.809947783224856e-09
223 36 3 1.064263764104557e-10
224 37 3 3.9258382692230204e-11
225 38 3 1.741462946684769e-11
226 39 3 1.9303982857690273e-09
227 40 3 1.3312373381065255e-11
228 41 3 2.0980418777755607e-10
229 42 3 1.7218470122516692e-06
230 43 3 5.205093941073494e-06
231 44 3 2.3549715811977437e-06
232 45 3 1.0729838781458927e-05
233 46 3 3.2353816617054622e-06
234 47 3 5.2346622243369245e-06
235 48 3 1.3447732839464056e-06
236 49 3 3.44588748893518e-06
237 50 3 7.32237866338528e-08
238 51 3 2.8844361920486297e-07
239 52 3 3.4840145036724515e-07
240 53 3 1.0645588852238284e-06
241 54 3 5.156549660742151e-07
242 55 3 1.6606982338730298e-07
243 56 3 1.1529279757452327e-07
244 57 3 1.191213573442227e-07
245 58 3 3.187010789225353e-08
246 59 3 2.9174279581304143e-07
247 60 3 1.0066334123885418e-07
248 61 3 5.27479931510195e-08
249 0 4 0.01522307329570478
250 1 4 0.018806688335199155
251 2 4 0.040676507006501925
252 3 4 0.003199236904716498
253 4 4 0.3883831426913506
254 5 4 0.003954106856687108
255 6 4 0.0051426050235791
256 7 4 0.010839943303375899
257 8 4 0.001447817341552449
258 9 4 0.04723099856706927
259 10 4 0.003329141526680919
260 11 4 0.032722716854914416
261 12 4 0.00010271781940466806
262 13 4 3.398457169687592e-05
263 14 4 0.004908804323975544
264 15 4 7.129450282314899e-05
265 16 4 0.008327348771747524
266 17 4 0.003195157393481736
267 18 4 0.0020640762786234427
268 19 4 0.00012760085215267962
269 20 4 0.00013306729272439565
270 21 4 1.3883358991195178e-05
271 22 4 0.0018930808309472684
272 23 4 0.1629400726906187
273 24 4 0.8233212495909723
274 25 4 0.16244302697330532
275 26 4 0.12505200726065496
276 27 4 0.010347306110524613
277 28 4 0.009739026206286541
278 29 4 0.028958320842598938
279 30 4 0.08627852497916269
280 31 4 0.048913525022979076
281 32 4 0.031607361399752176
282 33 4 0.02629782751764663
283 34 4 0.0016708058643415877
284 35 4 0.005290861006968396
285 36 4 0.012375194846788028
286 37 4 0.005724679006337385
287 38 4 0.004179619354413463
288 39 4 0.0041388802418697865
289 40 4 0.0018053324649930519
290 41 4 0.0012859936288927348
291 42 4 1.431096589764646e-05
292 43 4 3.6484167618297116e-05
293 44 4 7.039300121610102e-06
294 45 4 1.6733464216354007e-05
295 46 4 2.6361310537414485e-06
296 47 4 7.073070528504576e-06
297 48 4 1.2804719570533358e-06
298 49 4 6.241638756873069e-06
299 50 4 3.20087582295846e-07
300 51 4 5.818725535931386e-07
301 52 4 1.5659952725356485e-06
302 53 4 2.408617802080687e-06
303 54 4 7.346805388466473e-07
304 55 4 4.3008507676114506e-07
305 56 4 8.350217701503357e-08
306 57 4 5.22525009196689e-07
307 58 4 3.841567794130412e-07
308 59 4 1.46691138983955e-06
309 60 4 5.402705690309255e-07
310 61 4 9.528350599222302e-08
311 0 5 9.823429901913079e-08
312 1 5 9.419154780196576e-08
313 2 5 2.687804767482192e-07
314 3 5 5.184356715784515e-07
315 4 5 1.5361843041783757e-08
316 5 5 1.1897691738774374e-07
317 6 5 8.764102268943466e-08
318 7 5 3.0084108035472815e-09
319 8 5 3.6884073593490186e-08
320 9 5 8.135497197897617e-09
321 10 5 2.5146586106467813e-08
322 11 5 2.885941761037461e-09
323 12 5 6.552281078738914e-11
324 13 5 1.2551348762571297e-09
325 14 5 1.1066858179772614e-11
326 15 5 4.5116095319630666e-10
327 16 5 3.0611474948130156e-10
328 17 5 8.228510865332804e-12
329 18 5 1.0081865553418177e-10
330 19 5 1.669181347247806e-10
331 20 5 3.201341759231588e-12
332 21 5 8.810577492639175e-11
333 22 5 3.598985462599147e-07
334 23 5 3.38558700926442e-07
335 24 5 4.72625193375258e-08
336 25 5 1.1892641181789687e-08
337 26 5 9.131720521402306e-08
338 27 5 6.353463631791718e-10
339 28 5 3.2894212096963195e-08
340 29 5 1.2725280766132431e-08
341 30 5 2.6155753580617782e-08
342 31 5 6.063002347484289e-09
343 32 5 2.000004273995433e-10
344 33 5 2.8368651661869655e-09
345 34 5 5.826585265007284e-10
346 35 5 3.729975405388084e-09
347 36 5 2.6985046179875257e-10
348 37 5 2.225962933765969e-10
349 38 5 4.1435031548799384e-11
350 39 5 3.654101760186763e-10
351 40 5 2.7999151232314167e-11
352 41 5 1.1031396804072455e-10
353 42 5 1.0014048986583798e-05
354 43 5 3.089528373328201e-05
355 44 5 2.2300976806339674e-06
356 45 5 2.866600612659531e-05
357 46 5 3.7322226553221607e-06
358 47 5 4.222872174440956e-06
359 48 5 1.872043866847142e-06
360 49 5 5.656477442481318e-06
361 50 5 8.656507996657775e-07
362 51 5 1.5427835577047093e-07
363 52 5 1.1781006099353315e-06
364 53 5 2.384243152973287e-06
365 54 5 9.233058223454458e-07
366 55 5 4.7068861808100907e-07
367 56 5 1.3404764203237594e-07
368 57 5 3.0555711292799257e-07
369 58 5 8.12406068739642e-08
370 59 5 7.150473018339416e-07
371 60 5 5.460981586088713e-08
372 61 5 6.196221350444157e-08
1 0 0 0.31810410193345506
2 1 0 0.04714448838301674
3 2 0 0.0983026205254977
4 3 0 0.10591147600996788
5 4 0 0.001165519743486141
6 5 0 0.2843042723034777
7 6 0 0.01898209442538942
8 7 0 0.029543371649249243
9 8 0 0.03165859052146194
10 9 0 0.0009785212439518112
11 10 0 0.011924154563863218
12 11 0 0.0009078338806725381
13 12 0 6.248586730879043e-05
14 13 0 0.0016032434610675948
15 14 0 0.00031229396958145446
16 15 0 0.00011751828930889862
17 16 0 0.00014926166991335217
18 17 0 3.533867931152068e-05
19 18 0 6.610660182689471e-05
20 19 0 8.270611207341872e-06
21 20 0 3.4972538072956613e-06
22 21 0 4.8646692429382076e-05
23 22 0 0.33696771586904284
24 23 0 0.11580514748839967
25 24 0 0.009127795302444945
26 25 0 0.012960543154594256
27 26 0 0.25155157751594404
28 27 0 0.015578908309951664
29 28 0 0.0038527194644821985
30 29 0 0.003491256803290328
31 30 0 0.057776584065353846
32 31 0 0.00020380017149050685
33 32 0 0.000861576131893874
34 33 0 0.004178589305834686
35 34 0 0.0011897307275626533
36 35 0 0.0033007145146201297
37 36 0 0.0005242273288589693
38 37 0 0.00022923791798629215
39 38 0 0.00014313489345076414
40 39 0 0.004739318798133441
41 40 0 5.454877047972759e-05
42 41 0 0.0008354660096879405
43 42 0 3.013524572834275e-06
44 43 0 1.1126028865044347e-05
45 44 0 2.3033882761705633e-06
46 45 0 5.693622046509586e-06
47 46 0 4.784392313899436e-07
48 47 0 2.646659170130525e-06
49 48 0 6.377730402658927e-07
50 49 0 2.0726842330900285e-06
51 50 0 1.5947890064845568e-07
52 51 0 8.738108256619393e-08
53 52 0 4.827523516027654e-07
54 53 0 1.0560590096703876e-06
55 54 0 2.954397414414825e-07
56 55 0 1.7335282375836858e-07
57 56 0 2.826892467746164e-07
58 57 0 1.8336471780091717e-07
59 58 0 1.1714892074978753e-07
60 59 0 4.586961200983174e-07
61 60 0 1.257636091417545e-07
62 61 0 1.2644530397847918e-07
63 0 1 1.386278554903018e-06
64 1 1 8.231748657928035e-07
65 2 1 1.45510225389833e-06
66 3 1 1.3032561346216637e-07
67 4 1 2.0269251293523398e-08
68 5 1 1.4856623894626934e-07
69 6 1 1.1977379809374003e-06
70 7 1 1.6422234723840113e-08
71 8 1 4.135825654267839e-07
72 9 1 8.118659328300455e-09
73 10 1 2.335241883231799e-07
74 11 1 3.311063778213884e-09
75 12 1 1.0371940426921087e-09
76 13 1 9.62972694982054e-08
77 14 1 1.6072022096951584e-09
78 15 1 7.264388255166432e-09
79 16 1 1.244229440166081e-09
80 17 1 4.613956023110753e-10
81 18 1 5.390328148610249e-10
82 19 1 3.630300898341624e-08
83 20 1 1.926595580110159e-10
84 21 1 7.996939365094624e-09
85 22 1 2.9921061185726684e-07
86 23 1 1.2105336067214326e-06
87 24 1 7.328945992712731e-09
88 25 1 1.5923262053988812e-06
89 26 1 1.0149518506357826e-06
90 27 1 3.24443456844178e-08
91 28 1 4.2899803110503896e-07
92 29 1 4.13568995009297e-09
93 30 1 1.0308122539711099e-07
94 31 1 1.6079880563188273e-09
95 32 1 4.1369007969009844e-11
96 33 1 8.91917917170633e-09
97 34 1 2.9293657306345347e-10
98 35 1 2.697091242245987e-09
99 36 1 2.2538968925860383e-10
100 37 1 5.893115024452263e-11
101 38 1 9.188717122259233e-11
102 39 1 3.0804008567879606e-10
103 40 1 4.691028326763759e-12
104 41 1 5.130258637817396e-10
105 42 1 4.795431125998997e-06
106 43 1 9.831049488152321e-06
107 44 1 2.102531475388656e-06
108 45 1 8.46216210700906e-06
109 46 1 2.6029376260102737e-06
110 47 1 2.1188739908262595e-06
111 48 1 9.372618052417371e-07
112 49 1 1.952330410718762e-06
113 50 1 2.0445584820906932e-07
114 51 1 4.240946317710235e-07
115 52 1 3.7445289097027944e-07
116 53 1 9.562203335659622e-07
117 54 1 3.121084917979003e-07
118 55 1 1.1818925254725998e-07
119 56 1 1.8727597032710844e-07
120 57 1 1.4138688505642947e-07
121 58 1 5.2071049210189726e-08
122 59 1 3.1024585937124123e-07
123 60 1 1.285562912626605e-07
124 61 1 4.5765096305809305e-08
125 0 2 0.4588177624135861
126 1 2 0.012294135055399384
127 2 2 0.22525284619469296
128 3 2 0.11969248812536232
129 4 2 0.009255585076053485
130 5 2 0.11595504979085645
131 6 2 0.1293353516566913
132 7 2 0.015359973852079338
133 8 2 0.026516496190477353
134 9 2 0.0007698063782237713
135 10 2 0.04834855208385873
136 11 2 0.00029963079619091225
137 12 2 0.000933805787363352
138 13 2 0.005635934278521707
139 14 2 0.0007176078826945047
140 15 2 0.0004875474733181272
141 16 2 0.00032613376136531773
142 17 2 8.08192142165463e-06
143 18 2 8.479575907910489e-05
144 19 2 0.002402552172724663
145 20 2 8.115658987314339e-05
146 21 2 5.688988162595261e-05
.. __stg1_txt752
  # ------------------------------------------------------------------------------------------
  # Commande No :  0096            Concept de type : vect_asse_gene
  # ------------------------------------------------------------------------------------------
  dispGene = RECU_GENE(RESU_GENE=harmGe45,
                       FREQ=1000.0,
                       NOM_CHAM='DEPL',)

  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0096   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt754
  # ------------------------------------------------------------------------------------------
  # Commande No :  0097            Concept de type : -
  # ------------------------------------------------------------------------------------------
  IMPR_GENE(UNITE=9,
            GENE=_F(RESU_GENE=dispGene,
                    PRECISION=1.E-06,
                    CRITERE='RELATIF',),
            FORMAT='RESULTAT',)

  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0097   user+syst:        0.00s (syst:        0.00s, elaps:        0.01s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt755
  # ------------------------------------------------------------------------------------------
  # Commande No :  0098            Concept de type : -
  # ------------------------------------------------------------------------------------------
  DETRUIRE(CONCEPT=_F(NOM=(dispGene, ),),
           INFO=1,)

  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0098   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt752
  # ------------------------------------------------------------------------------------------
  # Commande No :  0099            Concept de type : vect_asse_gene
  # ------------------------------------------------------------------------------------------
  dispGene = RECU_GENE(RESU_GENE=harmGe45,
                       FREQ=1500.0,
                       NOM_CHAM='DEPL',)

  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0099   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt754
  # ------------------------------------------------------------------------------------------
  # Commande No :  0100            Concept de type : -
  # ------------------------------------------------------------------------------------------
  IMPR_GENE(UNITE=9,
            GENE=_F(RESU_GENE=dispGene,
                    PRECISION=1.E-06,
                    CRITERE='RELATIF',),
            FORMAT='RESULTAT',)

  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0100   user+syst:        0.00s (syst:        0.00s, elaps:        0.01s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt755
  # ------------------------------------------------------------------------------------------
  # Commande No :  0101            Concept de type : -
  # ------------------------------------------------------------------------------------------
  DETRUIRE(CONCEPT=_F(NOM=(dispGene, ),),
           INFO=1,)

  # Mémoire (Mo) :  4147.43 /   944.66 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0101   user+syst:        0.01s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt813
  # ------------------------------------------------------------------------------------------
  # Commande No :  0102            Concept de type : -
  # ------------------------------------------------------------------------------------------
  IMPR_RESU(FORMAT='MED',
            UNITE=82,
            VERSION_MED='3.3.1',
            RESU=_F(RESULTAT=modes_1,
                    INFO_MAILLAGE='NON',
                    IMPR_NOM_VARI='OUI',),
            PROC0='OUI',
            INFO=1,)


Création du fichier au format MED 3.3.1.
  # Mémoire (Mo) :  4147.43 /   944.99 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0102   user+syst:        0.04s (syst:        0.00s, elaps:        0.05s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt830
  # ------------------------------------------------------------------------------------------
  # Commande No :  0103            Concept de type : -
  # ------------------------------------------------------------------------------------------
  DETRUIRE(CONCEPT=_F(NOM=(matEl_A1, matAs_A1, masGene, rigGene, amoGene, vectGe10, vectGe45, elemprop),),
           INFO=1,)

  # Mémoire (Mo) :  4147.43 /   832.78 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0103   user+syst:        0.02s (syst:        0.00s, elaps:        0.03s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt831
  # ------------------------------------------------------------------------------------------
  # Commande No :  0104            Concept de type : -
  # ------------------------------------------------------------------------------------------
  DETRUIRE(CONCEPT=_F(NOM=(meshSlp, meshRaiR, meshPadR, tmp2, mesh, mesh0, model, f_EBal, f_TDBal, f_EPad1),),
           INFO=1,)

  # Mémoire (Mo) :  4147.43 /   817.16 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0104   user+syst:        0.01s (syst:        0.00s, elaps:        0.01s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt832
  # ------------------------------------------------------------------------------------------
  # Commande No :  0105            Concept de type : -
  # ------------------------------------------------------------------------------------------
  DETRUIRE(CONCEPT=_F(NOM=(f_EPad2, f_TDPad1, f_TDPad2, tie2, tie3, BCinterf, load10, load45),),
           INFO=1,)

  # Mémoire (Mo) :  4147.43 /   773.94 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0105   user+syst:        0.02s (syst:        0.01s, elaps:        0.01s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt833
  # ------------------------------------------------------------------------------------------
  # Commande No :  0106            Concept de type : -
  # ------------------------------------------------------------------------------------------
  DETRUIRE(CONCEPT=_F(NOM=(matEl_K1, concrRe, steel, padMat1, padMat2, fieldmat, tabModes, macroEl1),),
           INFO=1,)

  # Mémoire (Mo) :  4147.43 /   675.04 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0106   user+syst:        0.01s (syst:        0.00s, elaps:        0.02s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt834
  # ------------------------------------------------------------------------------------------
  # Commande No :  0107            Concept de type : -
  # ------------------------------------------------------------------------------------------
  DETRUIRE(CONCEPT=_F(NOM=(matAs_K1, matEl_M1, matAs_M1, vectEl10, vectEl45, vectAs10, vectAs45, modeGene, numGene),),
           INFO=1,)

  # Mémoire (Mo) :  4147.43 /   524.05 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0107   user+syst:        0.03s (syst:        0.01s, elaps:        0.04s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt835
  # ------------------------------------------------------------------------------------------
  # Commande No :  0108            Concept de type : -
  # ------------------------------------------------------------------------------------------
  DETRUIRE(CONCEPT=_F(NOM=(modStaR1, modStaR2, modStaS, Lint, bamo1),),
           INFO=1,)

  # Mémoire (Mo) :  4147.43 /   413.32 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0108   user+syst:        0.02s (syst:        0.00s, elaps:        0.03s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt836
  # ------------------------------------------------------------------------------------------
  # Commande No :  0109            Concept de type : -
  # ------------------------------------------------------------------------------------------
  DETRUIRE(CONCEPT=_F(NOM=(harmGe10, harmGe45, CH_id, intCH_id),),
           INFO=1,)

  # Mémoire (Mo) :  4147.43 /   412.64 /   652.08 /   180.99 (VmPeak / VmSize / Optimum / Minimum)
  # Fin commande No : 0109   user+syst:        0.00s (syst:        0.00s, elaps:        0.00s)
  # ------------------------------------------------------------------------------------------

.. __stg1_txt841
  # ------------------------------------------------------------------------------------------
  # Commande No :  0110            Concept de type : -
  # ------------------------------------------------------------------------------------------
  FIN(RETASSAGE='OUI',
      FORMAT_HDF='NON',
      INFO_RESU='OUI',
      PROC0='OUI',
      )

   
   !-------------------------------------------------------------------------!
   ! <I> <CATAMESS_89>                                                       !
   !                                                                         !
   !     Liste des alarmes émises lors de l'exécution du calcul.             !
   !                                                                         !
   !     Les alarmes que vous avez choisies d'ignorer sont précédées de (*). !
   !     Nombre d'occurrences pour chacune des alarmes :                     !
   !            ALGELINE_1           émise    6 fois                         !
   !            SUPERVIS2_2          émise    1 fois                         !
   !            SUPERVIS_1           émise    1 fois                         !
   !-------------------------------------------------------------------------!
   

 ======>

 STRUCTURE DU CONCEPT modes_1  CALCULE POUR          2 NUMEROS D'ORDRE

 LISTE DES NOMS SYMBOLIQUES:
 ! ---------- !----------------!
 ! NUME_ORDRE !      DEPL      !
 ! ---------- !----------------!
 !          1 !     DEPL_R     !
 !          2 !     DEPL_R     !
 ! ---------- !----------------!

 LISTE DES NOMS DE VARIABLES D'ACCES:
                                      FREQ             DE TYPE  R
                                      NUME_MODE        DE TYPE  I
                                      NOEUD_CMP        DE TYPE  K16

 LISTE DES NOMS DE PARAMETRES:
 ! ---------- !----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!
 ! NUME_ORDRE !   AMOR_GENE    !  AMOR_REDUIT   !    CARAELEM    !    CHAMPMAT    !     EXCIT      !FACT_PARTICI_DX !FACT_PARTICI_DY !FACT_PARTICI_DZ !  MASS_EFFE_DX  !  MASS_EFFE_DY  !  MASS_EFFE_DZ  !MASS_EFFE_UN_DX !MASS_EFFE_UN_DY !MASS_EFFE_UN_DZ !   MASS_GENE    !     MODELE     !     NORME      !    NUME_DDL    !     OMEGA2     !   RIGI_GENE    !   TYPE_DEFO    !   TYPE_MODE    !
 ! ---------- !----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!
 !          1 !       R        !       R        !       K8       !       K8       !      K24       !       R        !       R        !       R        !       R        !       R        !       R        !       R        !       R        !       R        !       R        !       K8       !      K24       !       I        !       R        !       R        !      K16       !      K16       !
 !          2 !       R        !       R        !       K8       !       K8       !      K24       !       R        !       R        !       R        !       R        !       R        !       R        !       R        !       R        !       R        !       R        !       K8       !      K24       !       I        !       R        !       R        !      K16       !      K16       !
 ! ---------- !----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!----------------!
 ---------------------------------------------------------------------------
 Concepts de la base: G
    Nom       Type                 Taille (Mo)         Nombre      Nombre de
                                                     d'objets       segments
    TOTAL                                57.28             76            148
  
    num1       NUME_DDL_SDASTER          28.25             11             16
    modes_1    MODE_MECA                  1.74             20             26
    &FOZERO                               0.00              2              2
    &&_NUM_C                              0.00              1              1
    &CATA.AC                              0.00              2              4
    &CATA.CL                              0.60              1              3
    &CATA.GD                              0.14              4             11
    &CATA.ME                              0.20              2              4
    &CATA.OP                              0.30              4             19
    &CATA.PH                              0.00              1              1
    &CATA.PR                              0.00              2              4
    &CATA.TE                             26.03             17             42
    &CATA.TH                              0.01              2              4
    &CATA.TM                              0.01              7             11
 ---------------------------------------------------------------------------


     Nom de la base                          :  GLOBALE
     Nombre d'enregistrements utilisés       :  93
     Nombre d'enregistrements maximum        :  62914
     Longueur d'enregistrement (octets)      :  819200
     Nombre total d'accès en lecture         :  413
     Volume des accès en lecture             :        322.66 Mo.
     Nombre total d'accès en écriture        :  174
     Volume des accès en écriture            :        135.94 Mo.
     Nombre d'identificateurs utilisés       :  1835
     Taille maximum du répertoire            :  2000
     Pourcentage d'utilisation du répertoire :  91 %


     Nom de la base                          :  VOLATILE
     Nombre d'enregistrements utilisés       :  62
     Nombre d'enregistrements maximum        :  62914
     Longueur d'enregistrement (octets)      :  819200
     Nombre total d'accès en lecture         :  509
     Volume des accès en lecture             :        397.66 Mo.
     Nombre total d'accès en écriture        :  623
     Volume des accès en écriture            :        486.72 Mo.
     Nombre d'identificateurs utilisés       :  1030
     Taille maximum du répertoire            :  2000
     Pourcentage d'utilisation du répertoire :  51 %

  Ouverture en lecture du fichier ./glob.1

     Nom de la base                          :  GLOBALE
     Créée avec la version                   :  14.04.00
     Nombre d'enregistrements utilisés       :  93
     Nombre d'enregistrements maximum        :  62914
     Longueur d'enregistrement (octets)      :  819200
     Nombre d'identificateurs utilisés       :  1835
     Taille maximum du répertoire            :  2000
     Pourcentage d'utilisation du répertoire :  91 %

  Ouverture en lecture du fichier ./glob.1


Lancement de la commande : rm -f ./vola.?


  Ouverture en écriture du fichier ./vola.1


Lancement de la commande : rm -f ./glob.*



Lancement de la commande ->mv ./vola.1 ./glob.1<-

 <I> <FIN> RETASSAGE DE LA BASE "GLOBALE" EFFECTUEE,  1 FICHIER(S) UTILISE(S).

 <FIN> Arrêt normal dans "FIN".
 <I> <FIN> ARRET NORMAL DANS "FIN" PAR APPEL A "JEFINI".

 La mémoire demandée au lancement est surestimée, elle est de 8000.00 Mo.
 Le pic mémoire utilisée est de 4147.43 Mo.



     Nom de la base                          :  ELEMBASE
     Nombre d'enregistrements utilisés       :  43
     Nombre d'enregistrements maximum        :  512
     Longueur d'enregistrement (octets)      :  819200
     Nombre total d'accès en lecture         :  60
     Volume des accès en lecture             :         46.88 Mo.
     Nombre total d'accès en écriture        :  0
     Volume des accès en écriture            :          0.00 Mo.
     Nombre d'identificateurs utilisés       :  123
     Taille maximum du répertoire            :  300
     Pourcentage d'utilisation du répertoire :  41 %
  
 <I> <FIN> MEMOIRE JEVEUX MINIMALE REQUISE POUR L'EXECUTION :                     180.99 Mo
 <I> <FIN> MEMOIRE JEVEUX OPTIMALE REQUISE POUR L'EXECUTION :                     652.08 Mo
 <I> <FIN> MAXIMUM DE MEMOIRE UTILISEE PAR LE PROCESSUS LORS DE L'EXECUTION :    4147.43 Mo
  
 <I>       FERMETURE DES BASES EFFECTUEE
  
   STATISTIQUES CONCERNANT L'ALLOCATION DYNAMIQUE :
     TAILLE CUMULEE MAXIMUM            :                  652  Mo.
     TAILLE CUMULEE LIBEREE            :                  497  Mo.
     NOMBRE TOTAL D'ALLOCATIONS        :               665913
     NOMBRE TOTAL DE LIBERATIONS       :               665853
     APPELS AU MECANISME DE LIBERATION :                    0
     TAILLE MEMOIRE CUMULEE RECUPEREE  :                  697  Mo.
     VOLUME DES LECTURES               :                    0  Mo.
     VOLUME DES ECRITURES              :                  505  Mo.
  
   MEMOIRE JEVEUX MINIMALE REQUISE POUR L'EXECUTION :     180.99 Mo
     - IMPOSE DE NOMBREUX ACCES DISQUE
     - RALENTIT LA VITESSE D'EXECUTION
   MEMOIRE JEVEUX OPTIMALE REQUISE POUR L'EXECUTION :     652.08 Mo
     - LIMITE LES ACCES DISQUE
     - AMELIORE LA VITESSE D'EXECUTION
   MAXIMUM DE MEMOIRE UTILISEE PAR LE PROCESSUS     :    4147.43 Mo
     - COMPREND LA MEMOIRE CONSOMMEE PAR  JEVEUX, 
       LE SUPERVISEUR PYTHON, LES LIBRAIRIES EXTERNES
  
 <I>       FIN D'EXECUTION LE : JE-25-AOUT-2022 19:01:44


  <I> Informations sur les temps d'exécution
      Temps cpu user total                  196.14 s
      Temps cpu systeme total                 4.39 s
      Temps elapsed total                   201.81 s
      Temps restant                     3599798.19 s


  La signature de la base sauvegardée est (à l'adresse 0) :
    60b1fba4997d97b120ec471a1dd90b7026bca2d1

 ********************************************************************************
 * COMMAND                  :       USER :     SYSTEM :   USER+SYS :    ELAPSED *
 ********************************************************************************
 * init (jdc)               :     196.15 :       4.39 :     200.54 :     201.83 *
 *  . compile               :       0.01 :       0.00 :       0.01 :       0.00 *
 *  . exec_compile          :     195.97 :       4.37 :     200.34 :     201.64 *
 * DEBUT                    :       0.01 :       0.02 :       0.03 :       0.04 *
 * LIRE_MAILLAGE            :       0.01 :       0.01 :       0.02 :       0.03 *
 * LIRE_MAILLAGE            :       0.02 :       0.00 :       0.02 :       0.02 *
 * LIRE_MAILLAGE            :       0.03 :       0.00 :       0.03 :       0.03 *
 * MODI_MAILLAGE            :       0.00 :       0.00 :       0.00 :       0.02 *
 * MODI_MAILLAGE            :       0.00 :       0.00 :       0.00 :       0.01 *
 * ASSE_MAILLAGE            :       0.04 :       0.00 :       0.04 :       0.04 *
 * ASSE_MAILLAGE            :       0.06 :       0.00 :       0.06 :       0.06 *
 * CREA_MAILLAGE            :       0.06 :       0.00 :       0.06 :       0.06 *
 * AFFE_MODELE              :       0.03 :       0.00 :       0.03 :       0.02 *
 * CREA_CHAMP               :       0.00 :       0.00 :       0.00 :       0.00 *
 * POST_ELEM                :       0.02 :       0.00 :       0.02 :       0.03 *
 * LIRE_FONCTION            :       0.01 :       0.00 :       0.01 :       0.01 *
 * LIRE_FONCTION            :       0.00 :       0.00 :       0.00 :       0.00 *
 * LIRE_FONCTION            :       0.00 :       0.00 :       0.00 :       0.01 *
 * LIRE_FONCTION            :       0.01 :       0.00 :       0.01 :       0.00 *
 * LIRE_FONCTION            :       0.00 :       0.00 :       0.00 :       0.00 *
 * LIRE_FONCTION            :       0.00 :       0.00 :       0.00 :       0.00 *
 * AFFE_CHAR_MECA           :       0.11 :       0.00 :       0.11 :       0.12 *
 * AFFE_CHAR_MECA           :       0.28 :       0.01 :       0.29 :       0.29 *
 * AFFE_CHAR_MECA           :       0.03 :       0.00 :       0.03 :       0.03 *
 * AFFE_CHAR_MECA           :       0.01 :       0.00 :       0.01 :       0.01 *
 * AFFE_CHAR_MECA           :       0.00 :       0.00 :       0.00 :       0.01 *
 * DEFI_MATERIAU            :       0.00 :       0.00 :       0.00 :       0.00 *
 * DEFI_MATERIAU            :       0.00 :       0.00 :       0.00 :       0.00 *
 * DEFI_MATERIAU            :       0.01 :       0.00 :       0.01 :       0.01 *
 * DEFI_MATERIAU            :       0.00 :       0.00 :       0.00 :       0.00 *
 * AFFE_MATERIAU            :       0.00 :       0.00 :       0.00 :       0.01 *
 * AFFE_CARA_ELEM           :       0.11 :       0.01 :       0.12 :       0.12 *
 * CALC_MATR_ELEM           :       0.34 :       0.03 :       0.37 :       0.37 *
 * NUME_DDL                 :       0.73 :       0.14 :       0.87 :       0.89 *
 * ASSE_MATRICE             :       0.26 :       0.01 :       0.27 :       0.27 *
 * CALC_MATR_ELEM           :       0.11 :       0.02 :       0.13 :       0.13 *
 * ASSE_MATRICE             :       0.17 :       0.01 :       0.18 :       0.18 *
 * CALC_VECT_ELEM           :       0.01 :       0.00 :       0.01 :       0.00 *
 * CALC_VECT_ELEM           :       0.00 :       0.00 :       0.00 :       0.00 *
 * ASSE_VECTEUR             :       0.00 :       0.00 :       0.00 :       0.00 *
 * ASSE_VECTEUR             :       0.00 :       0.00 :       0.00 :       0.00 *
 * CALC_MATR_ELEM           :       0.12 :       0.05 :       0.17 :       0.16 *
 * ASSE_MATRICE             :       0.17 :       0.02 :       0.19 :       0.19 *
 * INFO_MODE                :      46.41 :       0.74 :      47.15 :      47.33 *
 * CALC_MODES               :      83.67 :       1.53 :      85.20 :      85.45 *
 * MODE_STATIQUE            :      18.39 :       0.44 :      18.83 :      18.94 *
 * MODE_STATIQUE            :      18.64 :       0.50 :      19.14 :      19.25 *
 * MODE_STATIQUE            :      18.56 :       0.42 :      18.98 :      19.07 *
 * NORM_MODE                :       0.93 :       0.03 :       0.96 :       0.98 *
 * NORM_MODE                :       0.94 :       0.01 :       0.95 :       0.96 *
 * NORM_MODE                :       0.92 :       0.03 :       0.95 :       0.95 *
 * DEFI_INTERF_DYNA         :       0.06 :       0.00 :       0.06 :       0.07 *
 * DEFI_BASE_MODALE         :       0.03 :       0.01 :       0.04 :       0.07 *
 * DEFI_BASE_MODALE         :       0.05 :       0.01 :       0.06 :       0.06 *
 * DEFI_BASE_MODALE         :       0.06 :       0.00 :       0.06 :       0.06 *
 * MACR_ELEM_DYNA           :       3.66 :       0.15 :       3.81 :       3.93 *
 * DEFI_MODELE_GENE         :       0.25 :       0.00 :       0.25 :       0.24 *
 * NUME_DDL_GENE            :       0.00 :       0.00 :       0.00 :       0.00 *
 * ASSE_MATR_GENE           :       0.01 :       0.00 :       0.01 :       0.02 *
 * ASSE_MATR_GENE           :       0.00 :       0.00 :       0.00 :       0.01 *
 * ASSE_MATR_GENE           :       0.00 :       0.00 :       0.00 :       0.00 *
 * ASSE_VECT_GENE           :       0.01 :       0.00 :       0.01 :       0.02 *
 * ASSE_VECT_GENE           :       0.01 :       0.00 :       0.01 :       0.01 *
 * DYNA_VIBRA               :       0.02 :       0.00 :       0.02 :       0.05 *
 * DYNA_VIBRA               :       0.02 :       0.01 :       0.03 :       0.05 *
 * RECU_GENE                :       0.00 :       0.00 :       0.00 :       0.00 *
 * IMPR_GENE                :       0.00 :       0.00 :       0.00 :       0.01 *
 * DETRUIRE                 :       0.00 :       0.00 :       0.00 :       0.00 *
 * RECU_GENE                :       0.00 :       0.00 :       0.00 :       0.01 *
 * IMPR_GENE                :       0.01 :       0.00 :       0.01 :       0.01 *
 * DETRUIRE                 :       0.00 :       0.00 :       0.00 :       0.00 *
 * RECU_GENE                :       0.00 :       0.00 :       0.00 :       0.00 *
 * IMPR_GENE                :       0.00 :       0.00 :       0.00 :       0.01 *
 * DETRUIRE                 :       0.00 :       0.00 :       0.00 :       0.00 *
 * RECU_GENE                :       0.00 :       0.00 :       0.00 :       0.00 *
 * IMPR_GENE                :       0.00 :       0.00 :       0.00 :       0.01 *
 * DETRUIRE                 :       0.01 :       0.00 :       0.01 :       0.00 *
 * IMPR_RESU                :       0.04 :       0.00 :       0.04 :       0.05 *
 * DETRUIRE                 :       0.02 :       0.00 :       0.02 :       0.03 *
 * DETRUIRE                 :       0.01 :       0.00 :       0.01 :       0.01 *
 * DETRUIRE                 :       0.01 :       0.01 :       0.02 :       0.01 *
 * DETRUIRE                 :       0.01 :       0.00 :       0.01 :       0.02 *
 * DETRUIRE                 :       0.02 :       0.01 :       0.03 :       0.04 *
 * DETRUIRE                 :       0.02 :       0.00 :       0.02 :       0.03 *
 * DETRUIRE                 :       0.00 :       0.00 :       0.00 :       0.00 *
 * FIN                      :       0.04 :       0.11 :       0.15 :       0.20 *
 *  . part Superviseur      :       0.71 :       0.09 :       0.80 :       1.01 *
 *  . part Fortran          :     195.43 :       4.30 :     199.73 :     200.81 *
 ********************************************************************************
 * TOTAL_JOB                :     196.14 :       4.39 :     200.53 :     201.81 *
 ********************************************************************************


147 22 2 0.2808748080284168
148 23 2 0.07929345800732869
149 24 2 0.006075210715818835
150 25 2 0.06661824923742743
151 26 2 0.13518612111071165
152 27 2 0.012678817020921156
153 28 2 0.011162705907659666
154 29 2 0.01505007742175767
155 30 2 0.04360603839679202
156 31 2 0.007933714433921164
157 32 2 0.0005919192358539303
158 33 2 0.002450006229478611
159 34 2 0.001027081085198165
160 35 2 0.0011956998187793624
161 36 2 0.001972730842386006
162 37 2 0.0006488024873263357
163 38 2 0.0005865629484430124
164 39 2 0.002607565484834465
165 40 2 2.0426219875933972e-05
166 41 2 0.000264226784697464
167 42 2 1.5793071887954542e-06
168 43 2 6.85098616577205e-05
169 44 2 6.59234296199007e-07
170 45 2 3.6972054646313615e-05
171 46 2 2.8435243699676637e-07
172 47 2 1.2281248767026911e-05
173 48 2 1.2725957652565876e-07
174 49 2 1.0439464170123868e-05
175 50 2 1.1228005535196355e-06
176 51 2 9.124755461693206e-08
177 52 2 2.682519224087686e-06
178 53 2 5.903031312978104e-06
179 54 2 1.6558576824413384e-06
180 55 2 5.326892209542446e-08
181 56 2 1.846080627979179e-08
182 57 2 8.323645659553271e-07
183 58 2 3.5857200392564115e-08
184 59 2 2.1590200963559834e-06
185 60 2 4.9257916986003376e-08
186 61 2 5.4351999518494265e-09
187 0 3 1.7928047793889885e-06
188 1 3 9.420159468310503e-07
189 2 3 7.278215263125981e-07
190 3 3 1.0428656733947092e-06
191 4 3 2.1351460405555403e-08
192 5 3 5.232424383447887e-07
193 6 3 1.0828451002900876e-07
194 7 3 1.479188015238428e-08
195 8 3 5.387667377427823e-07
196 9 3 1.515513537613241e-09
197 10 3 6.211086022283059e-07
198 11 3 1.3480175523786773e-09
199 12 3 1.0726058549830874e-09
200 13 3 1.344991011398961e-07
201 14 3 7.906757291665148e-10
202 15 3 2.1531033488664683e-08
203 16 3 9.498800616509434e-10
204 17 3 2.1148551526050194e-10
205 18 3 3.1259705847624353e-10
206 19 3 1.391050475203542e-08
207 20 3 4.302659820947968e-11
208 21 3 5.685660417928598e-09
209 22 3 7.45628758620535e-07
210 23 3 9.03498255371863e-07
211 24 3 1.775534641537585e-08
212 25 3 4.889402691638315e-07
213 26 3 1.1092780193103081e-07
214 27 3 1.607325153111529e-08
215 28 3 4.961720016738147e-07
216 29 3 1.146943713069216e-09
217 30 3 5.796897539977742e-07
218 31 3 1.3706000137534655e-09
219 32 3 1.0326168432986167e-09
220 33 3 1.2338312624026025e-07
221 34 3 6.748038189651863e-10
222 35 3 1.7662117735990776e-08
223 36 3 1.045296486863416e-09
224 37 3 2.4772964336146776e-10
225 38 3 3.311903330382697e-10
226 39 3 1.3888053645129688e-08
227 40 3 4.21056764544877e-11
228 41 3 5.4101524707996905e-09
229 42 3 1.1916739703341682e-06
230 43 3 6.150835205441616e-05
231 44 3 1.9440842936264365e-07
232 45 3 5.192169642606065e-05
233 46 3 3.129831265435247e-07
234 47 3 1.1352560093300541e-05
235 48 3 1.582237935488844e-07
236 49 3 1.0038181523069804e-05
237 50 3 1.6555608537302394e-06
238 51 3 1.4975222483986673e-08
239 52 3 2.2218323512362495e-06
240 53 3 5.726140636082911e-06
241 54 3 1.9663024326038964e-06
242 55 3 4.9965662813420176e-08
243 56 3 1.917024045123326e-08
244 57 3 7.089336356260718e-07
245 58 3 6.199359389485336e-09
246 59 3 1.4824240077845475e-06
247 60 3 8.357085635004587e-09
248 61 3 4.68079987490386e-09
249 0 4 0.3937041011112406
250 1 4 0.035940641569615864
251 2 4 0.3431836552416213
252 3 4 0.07713859296953762
253 4 4 0.007154662052850575
254 5 4 0.008434656948198902
255 6 4 0.20264424113428442
256 7 4 0.012768621677150946
257 8 4 0.00605437376749239
258 9 4 0.015464438978899977
259 10 4 0.04919911132209199
260 11 4 0.0029574555122647236
261 12 4 0.000954907420193566
262 13 4 0.0020206639703723626
263 14 4 0.0005766353830463407
264 15 4 0.0011465462728669088
265 16 4 0.001809996537877628
266 17 4 0.00041356190528781786
267 18 4 0.0005063817504817882
268 19 4 0.0033158702655103982
269 20 4 7.164985376352417e-05
270 21 4 0.0005995915269616891
271 22 4 0.15669741476284796
272 23 4 0.05544032661997943
273 24 4 0.23695464661349522
274 25 4 0.09980992155036492
275 26 4 0.2676281407749761
276 27 4 0.027772075909449783
277 28 4 0.021167049093050266
278 29 4 0.015653918178881097
279 30 4 0.1029846067415651
280 31 4 0.075440588725118
281 32 4 0.03042215258999503
282 33 4 0.028020136033040596
283 34 4 0.0024852338845138904
284 35 4 0.005447826541480189
285 36 4 0.010046738612705544
286 37 4 0.005467320054405083
287 38 4 0.0033634126518219554
288 39 4 0.004189602174809167
289 40 4 0.0017998313198840843
290 41 4 0.0013383003783681458
291 42 4 3.6743115237557085e-06
292 43 4 4.020926031960797e-06
293 44 4 5.5970093408980476e-06
294 45 4 2.165792511301348e-06
295 46 4 1.6269712045395888e-06
296 47 4 4.853014858518362e-06
297 48 4 1.2265916948112767e-06
298 49 4 2.046257411690914e-06
299 50 4 4.1368332301169696e-07
300 51 4 2.41062553076997e-07
301 52 4 3.7620198830149736e-07
302 53 4 6.912384052553793e-07
303 54 4 3.1953749113274644e-07
304 55 4 3.8255333006131317e-07
305 56 4 3.082058163776278e-07
306 57 4 2.233542113293591e-07
307 58 4 2.0990841858448652e-07
308 59 4 6.410484675818202e-07
309 60 4 3.6960282051142413e-07
310 61 4 1.8530790336356406e-07
311 0 5 1.4342692848973653e-06
312 1 5 8.743998866902945e-07
313 2 5 2.870349707509522e-07
314 3 5 1.3340248340027257e-06
315 4 5 3.875684290612433e-09
316 5 5 1.643061868129134e-06
317 6 5 1.1016214500108465e-06
318 7 5 3.1322421002374636e-08
319 8 5 4.6402822483120574e-07
320 9 5 4.243827440059268e-09
321 10 5 1.1513728497845517e-07
322 11 5 1.8902957233261147e-09
323 12 5 8.412245195386307e-11
324 13 5 9.324532752443953e-09
325 14 5 3.022785102361066e-10
326 15 5 3.0122032904171654e-09
327 16 5 2.4890630936818376e-10
328 17 5 4.656873538090658e-11
329 18 5 9.907387828181554e-11
330 19 5 3.573724910691924e-10
331 20 5 6.441954235742443e-12
332 21 5 5.622051161035446e-10
333 22 5 1.4326165354431033e-06
334 23 5 1.684237556724407e-07
335 24 5 2.3786937464078893e-08
336 25 5 1.0659851761670985e-07
337 26 5 1.2341669834690118e-06
338 27 5 1.52033976600627e-08
339 28 5 4.153614903887937e-07
340 29 5 8.756997724637137e-09
341 30 5 2.464866569857281e-07
342 31 5 3.819779126035954e-09
343 32 5 1.0890613979335601e-09
344 33 5 9.809809692149997e-08
345 34 5 1.6269730149894928e-09
346 35 5 8.962135607571445e-09
347 36 5 1.1330512422397322e-09
348 37 5 4.260064099482542e-10
349 38 5 5.171519966325181e-10
350 39 5 3.812889663614724e-08
351 40 5 2.0327891701059407e-10
352 41 5 8.15353645020981e-09
353 42 5 2.6125892836992193e-06
nModesTot 62
nEigen 2
TOTAL TIME 201.19355463981628
WARNING: can not pickle object: f <class '_io.TextIOWrapper'>
WARNING: can not pickle object: freqFile <class '_io.TextIOWrapper'>
WARNING: can not pickle object: temp1 <class 'Utilitai.Table.Table'>
WARNING: can not pickle object: fileVect <class '_io.TextIOWrapper'>
WARNING: can not pickle object: fileModes <class '_io.TextIOWrapper'>
--- Fin de l'exécution
EXECUTION_CODE_ASTER_EXIT_92083=0
